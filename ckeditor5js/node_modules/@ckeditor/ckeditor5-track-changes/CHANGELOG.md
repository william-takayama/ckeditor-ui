Changelog
=========

All changes in the package are documented at https://ckeditor.com/collaboration/changelog/ and https://github.com/ckeditor/ckeditor5/blob/master/CHANGELOG.md.

Changes for the past releases are available below.

## 23.0.0 (2020-09-25)

### Other changes

* Added support for custom headings in track changes mode.


## 22.0.0 (2020-08-25)

### Features

* Introduced [`TrackChangesData`](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes-api.html#trackchangesdata) plugin which returns the editor data with all suggestions accepted or rejected.

## 21.0.0 (2020-07-24)

### BREAKING CHANGES

* The track changes feature now uses the recently introduced marker-to-data conversion. This means that suggestion markers included in the document data returned from the editor will be different than before. The change is backward compatible with regards to old documents that you have already saved in your database. These documents will be correctly processed by the editor, however, upon saving, the document data will be returned in the new format.

### Features

* Integrated multi-cell table selection with track changes.

### Bug fixes

* An active suggestion should always be highlighted and visible in the editor content. This concerns cases with multiple suggestions on the same part of the content.
* Fixed incorrect suggestion description for space character deletion.
* Enabling part of the content for restricted editing in track changes mode was crashing the editor.
* Fixed a crash happening when the remove row and remove column suggestions were accepted at the same time.


## 20.0.1 (2020-06-26)

### Bug fixes

* Fixed a crash happening when an element was inserted after a paragraph insertion suggestion.


## 19.1.0 (2020-05-25)

### Features

* Integration for "magic block" (inserting paragraphs before/after a widget).


## 19.0.1 (2020-04-30)

### Features

* Introduced customizable suggestion views.
* Introduced translations in the track changes feature.

### Bug fixes

* Fixed incorrect accepting and discarding of table row or column suggestions that were in the initial data.


## 18.0.0 (2020-03-19)

### Bug fixes

* Fixed incorrect suggestion description when styling (e.g. bold) was applied to the whole table.
* Fixed incorrectly created inline formatting suggestion set on a table that had insertion suggestions inside.
* Fixed incorrectly highlighted suggestions for table row/column insertion and deletion.


## 17.0.0 (2020-02-20)

### BREAKING CHANGES

* The track changes feature now expects the `config.collaboration.channelId` configuration parameter. The previously used `config.cloudServices.documentId` was deprecated and will be removed in the next release.
* Stylesheets for suggestions were cleaned up. If you are using custom styles, please refer to the documentation to see what CSS variables can now be used.

### Features

* Added support for the image resize feature.
* Added support for the soft break (<kbd>Shift</kbd>+<kbd>Enter</kbd>) feature.
* Added support for the horizontal line feature.
* Added support for the page break feature.
* Added support for the restricted editing feature.

### Bug fixes

* Fixed the description for the title element.

### Other changes

* Cleaned up track changes suggestion marker styles.
* Improved suggestion descriptions for suggestions on/in tables. Now, the description will show the text contained in the suggestion.
* Improved the behavior of the track changes split button. The dropdown will not be disabled if there is at least one enabled item inside it.


## 16.0.0 (2019-12-02)

Internal changes only (updated dependencies, documentation, etc.).


## 15.0.0 (2019-10-23)

### Features

* Introduced the possibility to [provide a custom date-time format](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/comments/comments.html#custom-date-format) for the suggestion balloons.

### Bug fixes

* The `model.insertContent()` method will now return the affected range in track changes mode.

### Other changes

* Track changes will no longer import and add all the features to the editor.


## 1.1.0 (2019-08-22)

### Features

* Introduced track changes support for the following features:
  * Table structure changes: adding or removing rows and columns, merging or splitting cells, adding header rows or header columns.
  * Indent and outdent.
  * Text transformation.
  * To-do lists.
* Added the author ID and the suggestion ID as data attributes to annotation DOM elements.
* Introduced commands for accepting or discarding suggestions in the selection.
* Annotations with an unfinished editing process will now be marked in the narrow sidebar.
* Suggestions are now always accepted or discarded using a single command. It makes it possible to block a command for certain suggestions.

### Bug fixes

* Changing suggestions quickly will not lead to an error.
* Text replacement suggestions will be active after creation.


## 1.0.0 (2019-07-04)

### Features

* Introduced track changes support for [real-time collaboration](https://ckeditor.com/collaboration/real-time-collaborative-editing/).
* Introduced the [narrow sidebar](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/comments/comments-display-mode.html#narrow-sidebar) display mode.
* Successive suggestions of the same type are now chained.

### Bug fixes

* Suggestion markers on widgets should overwrite user selection markers.

### Other changes

* Replaced `object-hash` and `trim-html` dependencies with an internal implementation.
* The track changes plugin should send `originalSuggestionId` to the adapter if an existing suggestion got broken by a user action. See the [documentation](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes-integration.html#track-changes-api).
* Introduced the support for mobile environments: Android and iOS.


## 0.3.0 (2019-06-05)

### Features

* Introduced tracking of formatting changes. Added support for alignment, bold, italic, underline, code, strike-through, subscript, superscript, block quotes, font features, headings, highlight, image styles, link, list indentation, mentions and remove formatting features in the track change mode.
* Introduced the [`comments.editorConfig` property](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/comments/comments.html#comment-editor-customization) for providing a custom configuration for the track changes comment editor.
* Enabled table commands for the user who inserted the table.
* Introduced inline suggestions as a separate [display mode](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/comments/comments-display-mode.html). It is possible to switch between sidebar and inline suggestions dynamically.

### Bug fixes

* Line-through of the delete marker is now visible in Safari.
* Suggestions on objects (images, tables, etc.) should not be unexpectedly removed after clicking the widget.


## 0.2.0 (2019-04-05)

### Features

* Enabled inserting tables, images and media in the track changes mode.
* Introduced comments for suggestions.
* Improved interactions between changes done by different authors in the track changes and regular modes.

### Bug fixes

* Do not show the "Split/Add/Merge/Remove" label together with the "Added/Removed" label.
* Fixed some cases with wrapping or unwrapping suggestions in block quote.
* Merge/split indicators will not show up anymore in a table when it was deleted or added.

### Other changes

* Introduced the `adapter.updateSuggestion()` method and the `suggestionData.hasComments` property needed to handle comments for suggestions. Learn more [in the documentation](https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes-integration.html).


## 0.1.0 (2019-02-25)

### The initial implementation of track changes

The initialization of this repository. [CKEditor 5 track changes](https://ckeditor.com/collaboration/track-changes/) is a plugin that lets you add track changes support to any CKEditor 5 build. It provides the API to integrate track changes with your application (save and load suggestions data to and from your database).

The track changes feature supports:

* Turning on and off the track changes mode.
* Tracking typing, deletions, splitting or merging blocks.
* Accepting or discarding suggested changes.
* Accepting or discarding all suggested changes using a single button.

All CKEditor 5 features that are not supported yet are disabled in the track changes mode.
