/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x29d6=['name','discardAllSuggestions','execute','push','addSuggestionData','editorCreator','Users','data','getUser','reduce','getDataWithDiscardedSuggestions','builtinPlugins','trackChangesData','init','useAnonymousUser','pluginName','Autosave','_adapter','acceptAllSuggestions','define','includes','plugins','initialData','RealTimeCollaborativeComments','editor','get','getSuggestions','names','constructor','users','getRootNames','track-changes-data-invalid-editor-creator','TrackChangesEditing','every','config','toolbar','function','trackChangesData.editorCreator','has','TrackChangesDataGetter','add','destroy','create','RealTimeCollaborativeEditing','CommentsRepository','string','set','document','TrackChangesData','from','requires','filter','concat'];(function(_0x5def10,_0x29d6ba){const _0x131700=function(_0x297daa){while(--_0x297daa){_0x5def10['push'](_0x5def10['shift']());}};_0x131700(++_0x29d6ba);}(_0x29d6,0x1ee));const _0x1317=function(_0x5def10,_0x29d6ba){_0x5def10=_0x5def10-0x0;let _0x131700=_0x29d6[_0x5def10];return _0x131700;};import{Plugin as _0x40b92f}from'ckeditor5/src/core';import{CKEditorError as _0x4783b1}from'ckeditor5/src/utils';import _0x3514cb from'./trackchangesediting';const C=[_0x1317('0x5'),'context',_0x1317('0x12')],k=[_0x1317('0x1a'),_0x1317('0x6'),'RealTimeCollaborativeTrackChanges',_0x1317('0x34')];export default class T extends _0x40b92f{static get[_0x1317('0x21')](){return[_0x3514cb];}static get[_0x1317('0x33')](){return _0x1317('0x1f');}[_0x1317('0x31')](){const _0x1e340f=this[_0x1317('0x7')];if(_0x1e340f[_0x1317('0x11')][_0x1317('0x2')](_0x1317('0x14'),_0x2f184a=>_0x1e340f[_0x1317('0xb')][_0x1317('0x19')]('',_0x2f184a)),_0x1317('0x13')!=typeof _0x1e340f[_0x1317('0x11')]['get'](_0x1317('0x30'))[_0x1317('0x29')])throw new _0x4783b1(_0x1317('0xe'));}['getDataWithAcceptedSuggestions'](_0x458ccd){return w(this[_0x1317('0x7')],!0x0,_0x458ccd);}[_0x1317('0x2e')](_0x445f0c){return w(this[_0x1317('0x7')],!0x1,_0x445f0c);}}class D extends _0x40b92f{static get['pluginName'](){return _0x1317('0x16');}[_0x1317('0x31')](){this['result']='end',this[_0x1317('0x7')][_0x1317('0x4')]['get'](_0x1317('0x1b'))[_0x1317('0x0')]={'getCommentThread':()=>new Promise(()=>{})},this[_0x1317('0x7')][_0x1317('0x4')]['get'](_0x1317('0xf'))[_0x1317('0x0')]=null;}}async function w(_0x6cbab6,_0x5db9ba,_0x209c00){const _0x3e69c2=function(_0x471c2e){const _0x87e8ef={};for(const _0x53d57e of _0x471c2e['config'][_0x1317('0xa')]())C[_0x1317('0x3')](_0x53d57e)||(_0x87e8ef[_0x53d57e]=_0x471c2e[_0x1317('0x11')]['get'](_0x53d57e));const _0x4156b3=_0x471c2e[_0x1317('0xb')][_0x1317('0x2f')]||[],_0x4e722d=_0x87e8ef['extraPlugins']||[];delete _0x87e8ef['extraPlugins'];const _0x57b45f=_0x4156b3[_0x1317('0x23')](_0x87e8ef[_0x1317('0x4')])[_0x1317('0x23')](_0x4e722d)['map'](_0x47807e=>_0x1317('0x1c')==typeof _0x47807e?_0x4156b3['find'](_0x31b3de=>_0x31b3de['pluginName']==_0x47807e):_0x47807e),_0x8754fb=Array[_0x1317('0x20')](new Set(_0x57b45f));return _0x87e8ef[_0x1317('0x4')]=_0x8754fb[_0x1317('0x22')](_0xebb2f9=>S(_0xebb2f9,new Set())),_0x87e8ef[_0x1317('0x4')][_0x1317('0x27')](D),_0x87e8ef['plugins'][_0x1317('0x27')](_0x3514cb),_0x87e8ef;}(_0x6cbab6),_0x5a6913=document['createDocumentFragment'](),_0x54635d=_0x6cbab6[_0x1317('0x11')][_0x1317('0x8')](_0x1317('0x30'))[_0x1317('0x29')],_0x86a88e=await _0x54635d(_0x3e69c2,()=>function(_0x5a389f){const _0x20749d=document['createElement']('div');return _0x5a389f['appendChild'](_0x20749d),_0x20749d;}(_0x5a6913));!function(_0x4ea065,_0x3433f9){const _0x4e9cc2=_0x4ea065['model'][_0x1317('0x1e')][_0x1317('0xd')]()[_0x1317('0x2d')]((_0x79cfc6,_0x82bd89)=>(_0x79cfc6[_0x82bd89]=_0x4ea065['data']['get']({'rootName':_0x82bd89}),_0x79cfc6),{}),_0x4e5f27=_0x4ea065[_0x1317('0x4')]['get'](_0x1317('0x2a'))[_0x1317('0xc')]['map'](_0x2483ba=>({'id':_0x2483ba['id']})),_0x37be94=_0x4ea065[_0x1317('0x4')]['get'](_0x1317('0xf'))[_0x1317('0x9')]({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x5a2321=_0x3433f9[_0x1317('0x4')][_0x1317('0x8')]('Users'),_0x4d1748=_0x3433f9[_0x1317('0x4')][_0x1317('0x8')](_0x1317('0xf'));for(const _0x2f3f66 of _0x4e5f27)_0x5a2321[_0x1317('0x2c')](_0x2f3f66['id'])||_0x5a2321['addUser'](_0x2f3f66);_0x5a2321['me']||_0x5a2321[_0x1317('0x32')]();for(const _0x528abf of _0x37be94)_0x4d1748[_0x1317('0x28')](_0x528abf);_0x3433f9[_0x1317('0x2b')][_0x1317('0x1d')](_0x4e9cc2);}(_0x6cbab6,_0x86a88e),_0x86a88e[_0x1317('0x26')](_0x5db9ba?_0x1317('0x1'):_0x1317('0x25'));const _0x2bbb19=_0x86a88e[_0x1317('0x2b')][_0x1317('0x8')](_0x209c00);return await _0x86a88e[_0x1317('0x18')](),_0x2bbb19;}function S(_0x13a282,_0x455d23){if(_0x455d23[_0x1317('0x15')](_0x13a282))return!0x0;_0x455d23[_0x1317('0x17')](_0x13a282);const _0x1fe288=_0x1317('0x13')==typeof _0x13a282?_0x13a282['pluginName']||_0x13a282[_0x1317('0x24')]:_0x13a282;return(!_0x1fe288||!k[_0x1317('0x3')](_0x1fe288))&&(!_0x13a282[_0x1317('0x21')]||_0x13a282['requires'][_0x1317('0x10')](_0x18e746=>S(_0x18e746,_0x455d23)));}