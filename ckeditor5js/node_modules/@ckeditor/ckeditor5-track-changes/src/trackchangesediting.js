/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1bbd=['_setSuggestionData','length','refresh','plugins','markerReady','_getSuggestionData','buildSuggestion','track-changes-user-not-found','commandName','isOwn','createPositionAt','includes','PENDING_ACTION_SUGGESTION','marker-count','isBefore','_editor','markBlockFormat','isIntersectingWithRange','formatBlock:accept','_rangeIsInLocalUserInsertion','dataReady','low','skipNestingCheck','addSuggestionData','suggestion','selection','addHighlight','formatInline','deletion:','root','return','trackChanges','getMarkers','subType','type','updateMarker','insertion:','createPositionAfter','unbind','containsRangeInObject','element','values','mapper','_getAuthorFromId','getCustomProperty','deletion','markMultiRangeInsertion','_suggestions','registerCustomCallback','change','then','editing','showSuggestionHighlights','isNextTo','notReady','fromCharCode','init','conversion','markInsertion','setTo','head','createSelection','isObject','markMultiRangeBlockFormat','ready','discardAllSuggestions','splice','_handleNewSuggestionMarker','stop','containsRange','name','_findSuggestions','ck-suggestion-marker--active','clear','removed','howMany','markerToData','adapter','formatBlock','position','suggestionChanged','_refreshSuggestionsChain','isTouching','insert','removeClass','join','push','addSuggestion','range','editingDowncast','PendingActions','fromRange','data','getCommentThread','editor','isAtStart','getItems','formatGroupId','clone','rejected','getChangedMarkers','getIntersection','_descriptionFactory','getSuggestions','markInlineFormat','createRange','isLocal','hasComments','isAfter','_customCallbacks','_createSuggestion','deletion:join','config','suggestion:','getAttribute','originalSuggestionId','collaboration.channelId','parent','discard','_joinWithAdjacentSuggestions','getFirstRange','markDeletion','suggestionUnloaded','isRemovable','open','getNearestSelectionRange','enableCommand','addMarker:suggestion:formatBlock','createRangeIn','track-changes-adapter-missing-getsuggestion','discardSelectedSuggestions','removeMarker:suggestion:formatBlock','accept','model','after','batch','ck-suggestion-marker','map','track-changes-adapter-already-set','createdAt','elementToElement','TrackChangesEditing','formatInline:','split','track-changes-suggestion-data-mismatch','activeMarkers','end','markerToHighlight','_setSuggestionRange','_suggestionState','document','acceptSuggestion','getAncestors','for','before','_commentsRepository','containsItem','add','_checkSuggestionCorrectness','fetchCommentThread','containsPosition','elementStart','markers','Users','forceDefaultExecution','applyOperation','createPositionBefore','isInContent','track-changes-command-not-found','commentThread','_onDiscard','_addSuggestionMarker','acceptSelectedSuggestions','insertion:discard','fire','suggestion-type','CommentsRepository','execute','pluginName','nodeBefore','_updateSuggestionData','isCollapsed','addClass','_cutOutSuggestionMarker','getSuggestion','markMultiRangeDeletion','removeAttribute','updateSuggestion','getRanges','oldRange','formatBlock:chain','value','next','previous','_enabledCommands','addComment','some','targetPosition','formatBlock:','schema','writer','hasCommentThread','multi','_saved','isEqual','_removeSuggestion','removeMarker','data-suggestion','isDocumentOperation','_adapter','dataToMarker','options','change:data','track-changes-suggestion-not-found','nodeAfter','createElement','commands','consume','addMarkerName','isLimit','detach','listenTo','from','filter','markerNameToElements','enableReadOnlyMode','get','high','addMarker','start','differ','getShiftedBy','getFirstMarker','setSelection','_isForcedDefaultExecutionBlock','requires','discardSuggestion','getAllAdjacentSuggestions','getMultiRangeId','isInsideObject','insertContent','isUndo','consumable','_defaultCallbacks','getDifference','insertion:chain','attributes','getWalker','_suggestionFactory','change:activeMarkers','acceptAllSuggestions','newRange','every','_registerDefaultCallbacks','toJSON','removeComment','registerPostFixer','multipleBlocks','remove','addRange','item','author','suggestionLoaded','deletion:accept','textProxy','getSuggestionCallback','markerName','dataDowncast','rootName','sort','trackChangesCommand','_joinSuggestions','formatBlock:discard','removeMarkers','bindElementToMarker','upcast','hasSuggestion','$graveyard','isMultiRange','move','isSelectable','rethrowUnexpectedError','change:_saved','_model','insertion','ck-suggestion-marker-formatBlock','size','documentSelection','has','formatInline:join','deleteContent','locale','toViewElement','_breakSuggestionMarker','isAtEnd','_splitMarkerName','getChanges','moveTargetPosition','highest','set','forward','formatInline:accept'];(function(_0x3fd57b,_0x1bbd85){const _0x27f9e0=function(_0xad268a){while(--_0xad268a){_0x3fd57b['push'](_0x3fd57b['shift']());}};_0x27f9e0(++_0x1bbd85);}(_0x1bbd,0x170));const _0x27f9=function(_0x3fd57b,_0x1bbd85){_0x3fd57b=_0x3fd57b-0x0;let _0x27f9e0=_0x1bbd[_0x3fd57b];return _0x27f9e0;};import{Plugin as _0x19a45c,PendingActions as _0x173c9e}from'ckeditor5/src/core';import{LiveRange as _0xdaaa0f}from'ckeditor5/src/engine';import{CKEditorError as _0x38ab46,uid as _0x322ea4,priorities as _0x505c8c,EmitterMixin as _0x4f6dcf,mix as _0x4b58ec}from'ckeditor5/src/utils';import{toWidget as _0x228704}from'ckeditor5/src/widget';import{Users as _0x4c5634}from'ckeditor5-collaboration/src/collaboration-core';import _0x4a84ff from'./commands/trackchangescommand';import _0x45073c from'./commands/acceptsuggestioncommand';import _0x5541a8 from'./commands/discardsuggestioncommand';import _0x262ddd from'./commands/acceptallsuggestionscommand';import _0x47cd3d from'./commands/acceptselectedsuggestionscommand';import _0x17b9cb from'./commands/discardallsuggestionscommand';import _0x33f42e from'./commands/discardselectedsuggestionscommand';import _0xfe1c55 from'./suggestion';import _0x5e999a from'./suggestiondescriptionfactory';import _0x54a323 from'./integrations/alignment';import _0x160b6b from'./integrations/basicstyles';import _0x541c5e from'./integrations/blockquote';import _0x55007e from'./integrations/ckbox';import _0x272446 from'./integrations/codeblock';import _0x1ddd73 from'./integrations/comments';import _0x3cc51f from'./integrations/deletecommand';import _0x436670 from'./integrations/entercommand';import _0x3afc35 from'./integrations/font';import _0x413da3 from'./integrations/heading';import _0x22b391 from'./integrations/highlight';import _0x2319ef from'./integrations/horizontalline';import _0x1f15bc from'./integrations/htmlembed';import _0x48bf6f from'./integrations/image';import _0x18d3f4 from'./integrations/indent';import _0x597831 from'./integrations/inputcommand';import _0x237a71 from'./integrations/link';import _0x8c9653 from'./integrations/list';import _0x56e41c from'./integrations/mediaembed';import _0x3696cb from'./integrations/mention';import _0x368f33 from'./integrations/pagebreak';import _0x409cf3 from'./integrations/paragraph';import _0x4b61cf from'./integrations/removeformat';import _0x29e562 from'./integrations/restrictededitingmode';import _0x399b00 from'./integrations/shiftentercommand';import _0x4ef2e7 from'./integrations/standardeditingmode';import _0x2f645b from'./integrations/table';import _0x56bfda from'./integrations/tablemergesplit';import _0x1c86a4 from'./integrations/tableheadings';import _0x4deea9 from'./integrations/tableclipboard';import _0x1a94a2 from'./integrations/title';import _0x598515 from'./integrations/undo';import _0x437ad9 from'./utils/hashobject.js';import{getTranslation as _0x1f9598}from'./utils/common-translations';export default class d extends _0x19a45c{static get[_0x27f9('0xa9')](){return[_0x27f9('0x6e'),_0x4c5634,_0x173c9e,_0x54a323,_0x160b6b,_0x541c5e,_0x55007e,_0x272446,_0x1ddd73,_0x3cc51f,_0x436670,_0x3afc35,_0x413da3,_0x22b391,_0x2319ef,_0x1f15bc,_0x48bf6f,_0x18d3f4,_0x597831,_0x237a71,_0x8c9653,_0x56e41c,_0x3696cb,_0x368f33,_0x409cf3,_0x4b61cf,_0x29e562,_0x399b00,_0x4ef2e7,_0x2f645b,_0x56bfda,_0x1c86a4,_0x4deea9,_0x1a94a2,_0x598515];}static get[_0x27f9('0x70')](){return _0x27f9('0x4b');}constructor(_0x1de651){function _0xd57458(_0x1e298b){return _0x1e298b[_0x27f9('0x47')](_0x55e06e=>String[_0x27f9('0x123')](_0x55e06e))[_0x27f9('0x13')]('');}super(_0x1de651),this[_0x27f9('0xe9')]('activeMarkers',[]),this['on'](_0x27f9('0xb7'),(_0x33b29b,_0x10e2ec,_0x29186a,_0x278c4b)=>{this['_model'][_0x27f9('0x11d')](()=>{for(const _0x5899b2 of[..._0x278c4b,..._0x29186a])this[_0x27f9('0xd9')][_0x27f9('0x60')]['has'](_0x5899b2)&&_0x1de651[_0x27f9('0x11f')]['reconvertMarker'](_0x5899b2);});}),this[_0x27f9('0x24')]=new _0x5e999a(this[_0x27f9('0x1c')]['model'][_0x27f9('0x85')],this[_0x27f9('0x1c')][_0x27f9('0xe1')]),this[_0x27f9('0x8f')]=null,this['_suggestionFactory']=new dt(this[_0x27f9('0x1c')]),this[_0x27f9('0x11b')]=new Map(),this[_0x27f9('0x59')]=_0x1de651['plugins'][_0x27f9('0xa0')]('CommentsRepository'),this[_0x27f9('0x80')]=new Set(),this[_0x27f9('0xd9')]=this[_0x27f9('0x1c')][_0x27f9('0x43')],this[_0x27f9('0x53')]=new WeakMap(),this[_0x27f9('0xa8')]=!0x1,this[_0xd57458([0x5f,0x65,0x78,0x65,0x63,0x75,0x74,0x65,0x53,0x75,0x67,0x67,0x65,0x73,0x74,0x69,0x6f,0x6e])]=_0xd57458([0x34,0x30,0x34,0x34,0x31,0x32,0x35,0x38]);}[_0x27f9('0x124')](){const _0x277d39=this['editor'];_0x277d39[_0x27f9('0x125')][_0x27f9('0x57')](_0x27f9('0x17'))[_0x27f9('0x51')]({'model':_0x27f9('0x104'),'view':_0x347111=>{const {id:_0x198ba4,type:_0x31f1f4}=this[_0x27f9('0xe5')](_0x347111[_0x27f9('0xc8')]),_0xb786a4=[_0x27f9('0x46'),'ck-suggestion-marker-'+_0x31f1f4];let _0x5f0b89=0xbb8;return this[_0x27f9('0x4f')][_0x27f9('0xf7')](_0x347111[_0x27f9('0xc8')])&&(_0xb786a4[_0x27f9('0x14')](_0x27f9('0x6')),_0x5f0b89=0xbc2),_0x27f9('0x119')==_0x31f1f4&&(_0x5f0b89+=0x5),{'classes':_0xb786a4,'attributes':{'data-suggestion':_0x198ba4},'priority':_0x5f0b89};}}),_0x277d39[_0x27f9('0x125')][_0x27f9('0x57')](_0x27f9('0xc9'))[_0x27f9('0x5b')](_0xe6e84c=>{_0xe6e84c['on']('addMarker:suggestion',(_0x56208d,_0x1f56e6,_0x1c923c)=>{if(!_0x1c923c['options'][_0x27f9('0x120')])return;const _0x4f1f6e=_0x1f56e6[_0x27f9('0xc2')];if(!_0x4f1f6e)return;const _0x44f7ab=_0x1c923c[_0x27f9('0x116')][_0x27f9('0xe2')](_0x4f1f6e);_0x277d39[_0x27f9('0x43')][_0x27f9('0x85')]['isObject'](_0x4f1f6e)&&_0x44f7ab&&!_0x44f7ab[_0x27f9('0x118')]('widget')&&_0x44f7ab['is']('containerElement')&&_0x228704(_0x44f7ab,_0x1c923c['writer']);},{'priority':_0x27f9('0xa1')});}),_0x277d39['conversion']['for'](_0x27f9('0xc9'))[_0x27f9('0x51')]({'model':_0x27f9('0x104'),'view':(_0x7f22ad,_0x39edc6)=>{if(!_0x39edc6['options'][_0x27f9('0x120')])return null;const {type:_0x2106ac}=this[_0x27f9('0xe5')](_0x7f22ad['markerName']);return{'classes':[_0x27f9('0x46'),'ck-suggestion-marker-'+_0x2106ac],'priority':0xbb8};}});const _0x98f17d=({showActiveMarkers:_0x472b5a=!0x0}={})=>(_0x30c262,_0x2fe4e5,_0x4c83ad)=>{if(!_0x2fe4e5['item'])return;if(_0x2fe4e5['item']['is'](_0x27f9('0x105')))return void _0x4c83ad[_0x27f9('0xb0')][_0x27f9('0x97')](_0x2fe4e5[_0x27f9('0xc2')],_0x30c262[_0x27f9('0x4')]);const _0x1f401b=_0x4c83ad[_0x27f9('0x116')][_0x27f9('0xe2')](_0x2fe4e5[_0x27f9('0xc2')]);if(!(_0x2fe4e5['item']['is'](_0x27f9('0x114'))&&_0x277d39['model']['schema']['isBlock'](_0x2fe4e5[_0x27f9('0xc2')])&&!_0x1f401b['getCustomProperty'](_0x27f9('0x106'))))return;const {id:_0x3f6601}=this['_splitMarkerName'](_0x2fe4e5[_0x27f9('0xc8')]);_0x4c83ad[_0x27f9('0x86')][_0x27f9('0x74')](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x1f401b),_0x4c83ad[_0x27f9('0x86')]['setAttribute'](_0x27f9('0x8d'),_0x3f6601,_0x1f401b),_0x4c83ad[_0x27f9('0x116')][_0x27f9('0xd0')](_0x1f401b,_0x2fe4e5[_0x27f9('0xc8')]),_0x472b5a&&(this['activeMarkers'][_0x27f9('0xf7')](_0x2fe4e5[_0x27f9('0xc8')])?_0x4c83ad[_0x27f9('0x86')]['addClass']('ck-suggestion-marker--active',_0x1f401b):_0x4c83ad[_0x27f9('0x86')][_0x27f9('0x12')](_0x27f9('0x6'),_0x1f401b));for(const _0x2ac258 of _0x277d39[_0x27f9('0x43')][_0x27f9('0x3e')](_0x2fe4e5[_0x27f9('0xc2')])[_0x27f9('0x1e')]())_0x4c83ad[_0x27f9('0xb0')][_0x27f9('0x97')](_0x2ac258,_0x30c262['name']);_0x4c83ad[_0x27f9('0xb0')][_0x27f9('0x97')](_0x2fe4e5[_0x27f9('0xc2')],_0x30c262[_0x27f9('0x4')]);};_0x277d39[_0x27f9('0x125')][_0x27f9('0x57')](_0x27f9('0xc9'))[_0x27f9('0x5b')](_0x15ce9e=>{_0x15ce9e['on'](_0x27f9('0x3d'),(_0x57ea7d,_0xfb3046,_0x4891fa)=>{_0x4891fa[_0x27f9('0x91')][_0x27f9('0x120')]&&_0x98f17d({'showActiveMarkers':!0x1})(_0x57ea7d,_0xfb3046,_0x4891fa);},{'priority':_0x27f9('0xe8')});}),_0x277d39[_0x27f9('0x125')][_0x27f9('0x57')]('dataDowncast')[_0x27f9('0xa')]({'model':_0x27f9('0x104'),'view':(_0x34fa65,_0x481b38)=>_0x481b38[_0x27f9('0x91')][_0x27f9('0x120')]?null:{'group':_0x27f9('0x104'),'name':_0x34fa65['substr'](_0x27f9('0x104')[_0x27f9('0xed')]+0x1)}}),_0x277d39[_0x27f9('0x125')][_0x27f9('0x57')](_0x27f9('0xd1'))[_0x27f9('0x4a')]({'view':{'name':_0x27f9('0x104'),'attribute':{'id':/^\w/,'suggestionType':/^\w/}},'model':(_0x296512,{writer:_0x136cd2})=>{let _0x556309='suggestion:'+_0x296512['getAttribute'](_0x27f9('0x6d'))+':'+_0x296512[_0x27f9('0x30')]('id');return _0x296512[_0x27f9('0x30')](_0x27f9('0xf9'))&&(_0x556309+=':'+_0x296512[_0x27f9('0x30')](_0x27f9('0xf9'))),_0x136cd2[_0x27f9('0x95')]('$marker',{'data-name':_0x556309});}}),_0x277d39[_0x27f9('0x125')]['for'](_0x27f9('0xd1'))[_0x27f9('0x90')]({'view':_0x27f9('0x104')}),_0x277d39['conversion'][_0x27f9('0x57')](_0x27f9('0x17'))['add'](_0x48426c=>{_0x48426c['on'](_0x27f9('0x3d'),_0x98f17d(),{'priority':_0x27f9('0xa1')});}),_0x277d39['conversion']['for'](_0x27f9('0x17'))['add'](_0x526085=>{_0x526085['on'](_0x27f9('0x41'),(_0x4a3481,_0x5113e4,_0x25b083)=>{const _0x25dee1=_0x25b083[_0x27f9('0x116')][_0x27f9('0x9e')](_0x5113e4[_0x27f9('0xc8')]);if(_0x25dee1)for(const _0x5a2d52 of _0x25dee1)_0x5a2d52['getCustomProperty'](_0x27f9('0x106'))||(_0x25b083[_0x27f9('0x86')][_0x27f9('0x12')](['ck-suggestion-marker',_0x27f9('0xdb'),_0x27f9('0x6')],_0x5a2d52),_0x25b083[_0x27f9('0x86')][_0x27f9('0x78')](_0x27f9('0x8d'),_0x5a2d52),_0x25b083['mapper']['unbindElementFromMarkerName'](_0x5a2d52,_0x5113e4['markerName']));},{'priority':'high'});}),_0x277d39['model'][_0x27f9('0x54')][_0x27f9('0xbe')](_0x2fb094=>{let _0x4c3ccc=!0x1;const _0x1712e4=Array['from'](_0x277d39[_0x27f9('0x43')]['document']['differ']['getChangedMarkers']());for(const {name:_0x263d23,data:_0x3a20b7}of _0x1712e4){const {group:_0x62796e,type:_0x4c1078,id:_0x359b49}=this[_0x27f9('0xe5')](_0x263d23);if(_0x27f9('0x104')!==_0x62796e)continue;const _0xfb1d96=this['_suggestions']['get'](_0x359b49);if(null!=_0x3a20b7[_0x27f9('0xb9')]){_0x27f9('0x107')==_0x4c1078&&(_0x4c3ccc=_0x4c3ccc||wt(_0x3a20b7['newRange'],_0x263d23,_0x2fb094,_0x277d39[_0x27f9('0x43')][_0x27f9('0x85')]));if(_0x3a20b7['newRange'][_0x27f9('0x73')]||_0x27f9('0xd3')==_0x3a20b7[_0x27f9('0xb9')][_0x27f9('0x109')][_0x27f9('0xca')]||'formatBlock'==_0x4c1078&&!bt(_0x3a20b7[_0x27f9('0xb9')])||_0x27f9('0x119')==_0x4c1078&&!(!kt(_0x250ace=_0x3a20b7[_0x27f9('0xb9')])&&!function(_0x12a43a){return _0x12a43a[_0x27f9('0xa3')][_0x27f9('0x33')]==_0x12a43a[_0x27f9('0x50')][_0x27f9('0x71')]&&_0x12a43a['start'][_0x27f9('0xe4')];}(_0x250ace)))_0x2fb094[_0x27f9('0x8c')](_0x263d23),_0x4c3ccc=!0x0;else{if(!_0xfb1d96||!_0xfb1d96[_0x27f9('0x65')])continue;_0x4c3ccc=!!this[_0x27f9('0x35')](_0xfb1d96)||_0x4c3ccc;}}}var _0x250ace;return _0x4c3ccc;}),_0x277d39['model']['document'][_0x27f9('0xbe')](_0x45ac49=>{let _0x35a006=!0x1;for(const _0x3a9f55 of _0x277d39[_0x27f9('0x43')][_0x27f9('0x54')][_0x27f9('0xa4')][_0x27f9('0xe6')]()){if(_0x27f9('0x11')!=_0x3a9f55[_0x27f9('0x10e')])continue;const _0x21bbd7=_0x3a9f55[_0x27f9('0xd')][_0x27f9('0xa5')](_0x3a9f55['length']);if(_0x21bbd7[_0x27f9('0xe4')])for(const _0x519b3b of this[_0x27f9('0x11b')]['values']()){if(_0x519b3b[_0x27f9('0xd4')]||!_0x519b3b['isInContent'])continue;if(_0x27f9('0xc')!=_0x519b3b[_0x27f9('0x10e')])continue;const _0x26fa2c=_0x519b3b[_0x27f9('0x36')]();if(_0x26fa2c[_0x27f9('0xa3')]['parent']!=_0x26fa2c[_0x27f9('0x50')][_0x27f9('0x33')]&&_0x26fa2c[_0x27f9('0x50')][_0x27f9('0x8a')](_0x3a9f55[_0x27f9('0xd')])){const _0x2a97c2=_0x277d39[_0x27f9('0x43')][_0x27f9('0x27')](_0x26fa2c[_0x27f9('0xa3')],_0x21bbd7);_0x45ac49[_0x27f9('0x10f')](_0x519b3b['getFirstMarker'](),{'range':_0x2a97c2}),_0x35a006=!0x0;}}}return _0x35a006;}),_0x277d39[_0x27f9('0x43')]['markers']['on']('update:suggestion',(_0x34f9f9,_0x22eac2,_0x26eaf9)=>{if(null==_0x26eaf9){const {id:_0x4ff5d2}=this[_0x27f9('0xe5')](_0x22eac2[_0x27f9('0x4')]),_0x411493=this['_suggestions'][_0x27f9('0xa0')](_0x4ff5d2);_0x411493&&_0x411493[_0x27f9('0x98')](_0x22eac2['name']);}}),_0x277d39['model']['document']['on'](_0x27f9('0x92'),()=>{const _0x431a06=Array[_0x27f9('0x9c')](_0x277d39['model']['document'][_0x27f9('0xa4')][_0x27f9('0x22')]());_0x431a06[_0x27f9('0xcb')]((_0x297194,_0x9f09f2)=>{const _0xca5a07=_0x297194['data']['oldRange'],_0x113bf1=_0x9f09f2['data']['oldRange'];return null===_0xca5a07&&null===_0x113bf1?0x0:null===_0xca5a07&&null!==_0x113bf1?-0x1:null!==_0xca5a07&&null===_0x113bf1?0x1:_0xca5a07[_0x27f9('0xa3')][_0x27f9('0xfa')](_0x113bf1[_0x27f9('0xa3')])?-0x1:0x1;});const _0x17b653=new Set();for(const {name:_0x13378d,data:_0x5977e5}of _0x431a06){const {group:_0x49965e,id:_0x2c5a01}=this['_splitMarkerName'](_0x13378d);if(_0x27f9('0x104')===_0x49965e&&(null===_0x5977e5[_0x27f9('0x7b')]&&this[_0x27f9('0x1')](_0x13378d),null===_0x5977e5[_0x27f9('0xb9')])){const _0x512ef6=this['_suggestions'][_0x27f9('0xa0')](_0x2c5a01);_0x512ef6[_0x27f9('0x65')]?_0x17b653[_0x27f9('0x5b')](_0x512ef6):this[_0x27f9('0x8b')](_0x512ef6);}}for(const {name:_0x14e610,data:_0x1d4a6a}of _0x431a06){const {group:_0x53d5e4,id:_0x1dfbbb}=this[_0x27f9('0xe5')](_0x14e610);if(_0x27f9('0x104')!==_0x53d5e4)continue;const _0x222855=this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0x1dfbbb);null!=_0x1d4a6a[_0x27f9('0xb9')]&&null!=_0x1d4a6a[_0x27f9('0x7b')]&&(this[_0x27f9('0xf')](_0x222855),_0x17b653[_0x27f9('0x5b')](_0x222855[_0x27f9('0x128')]));}for(const _0x476ab5 of _0x17b653)this[_0x27f9('0x6c')](_0x27f9('0xe'),_0x476ab5);_0x17b653['clear']();}),_0x277d39[_0x27f9('0x43')]['on'](_0x27f9('0x63'),(_0x195d8a,_0x4f4664)=>{const _0x17d644=_0x4f4664[0x0];if(!this[_0x27f9('0x11b')][_0x27f9('0xdc')])return;if(!_0x17d644[_0x27f9('0x8e')])return;if(_0x17d644['batch'][_0x27f9('0xaf')]||!_0x17d644[_0x27f9('0x45')][_0x27f9('0x28')])return;let _0x50b173,_0x13277a;switch(_0x17d644[_0x27f9('0x10e')]){case _0x27f9('0x11'):_0x50b173=_0x277d39[_0x27f9('0x43')]['createPositionAt'](_0x17d644[_0x27f9('0xd')]),_0x13277a=_0x50b173[_0x27f9('0xa5')](_0x17d644[_0x27f9('0x9')]);break;case _0x27f9('0x4d'):_0x50b173=_0x277d39[_0x27f9('0x43')][_0x27f9('0xf6')](_0x17d644['splitPosition']),_0x13277a=_0x277d39[_0x27f9('0x43')][_0x27f9('0xf6')](_0x17d644[_0x27f9('0xe7')]);break;case _0x27f9('0xd5'):_0x50b173=_0x277d39['model']['createPositionAt'](_0x17d644[_0x27f9('0x83')]),_0x13277a=_0x50b173[_0x27f9('0xa5')](_0x17d644[_0x27f9('0x9')]);break;default:return;}const _0x118050=_0x277d39[_0x27f9('0x43')][_0x27f9('0x27')](_0x50b173,_0x13277a);_0x277d39[_0x27f9('0x43')][_0x27f9('0x11d')](()=>{for(const {suggestion:_0x27486b,meta:_0x4ad3ff}of this[_0x27f9('0x5')](_0x118050)){if(_0x27486b[_0x27f9('0xd4')])continue;if(_0x27f9('0x107')==_0x27486b[_0x27f9('0x10e')])continue;const _0x54bfed=_0x27486b[_0x27f9('0x1a')]&&_0x27486b[_0x27f9('0x1a')][_0x27f9('0xbf')];(_0x27f9('0xc')!=_0x27486b[_0x27f9('0x10e')]||_0x27f9('0x4d')==_0x17d644['type']&&!_0x54bfed)&&(_0x4ad3ff[_0x27f9('0x113')]||'insertion'==_0x27486b['type']&&_0x4ad3ff[_0x27f9('0xf5')]||_0x27486b['getFirstRange']()[_0x27f9('0x3')](_0x118050)&&this[_0x27f9('0xe3')](_0x27486b,_0x50b173,_0x13277a));}});},{'priority':'lowest'}),_0x277d39['model']['on'](_0x27f9('0xe0'),(_0x3cc3c0,_0x333557)=>{const _0x56206d=_0x333557[0x0],_0x2dddc2=_0x333557[0x1];if(_0x2dddc2&&_0x2dddc2['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this[_0x27f9('0xcc')][_0x27f9('0x7d')])return;if(_0x56206d[_0x27f9('0x73')])return;const _0x2f8e4a=_0x277d39[_0x27f9('0x43')][_0x27f9('0x85')],{start:_0x1afea6,end:_0x11b180}=_0x56206d[_0x27f9('0x36')](),_0x1c3433=_0x1afea6[_0x27f9('0x94')]&&_0x2f8e4a[_0x27f9('0x12a')](_0x1afea6[_0x27f9('0x94')])?null:_0x2f8e4a[_0x27f9('0x3b')](_0x1afea6,_0x27f9('0xea')),_0x21495b=_0x11b180[_0x27f9('0x71')]&&_0x2f8e4a[_0x27f9('0x12a')](_0x11b180[_0x27f9('0x71')])?null:_0x2f8e4a[_0x27f9('0x3b')](_0x11b180,'backward'),_0x179f30=_0x277d39[_0x27f9('0x43')][_0x27f9('0x27')](_0x1c3433?_0x1c3433[_0x27f9('0xa3')]:_0x1afea6,_0x21495b?_0x21495b[_0x27f9('0x50')]:_0x11b180);_0x277d39[_0x27f9('0x43')][_0x27f9('0x11d')](_0x4d0ad3=>{this[_0x27f9('0x37')](_0x179f30);const _0x41a3fd=_0x277d39['model']['schema'][_0x27f9('0x3b')](_0x179f30[_0x27f9('0xa3')]);_0x56206d['is'](_0x27f9('0xdd'))?_0x4d0ad3['setSelection'](_0x41a3fd):_0x56206d[_0x27f9('0x127')](_0x41a3fd);}),_0x3cc3c0[_0x27f9('0x2')]();},{'priority':_0x505c8c['normal']+0xa}),_0x277d39[_0x27f9('0x43')]['on'](_0x27f9('0xae'),(_0x380ff7,_0x195ce7)=>{const _0x5d031a=_0x195ce7[_0x195ce7['length']-0x1];_0x5d031a&&_0x5d031a[_0x27f9('0x62')]||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand'][_0x27f9('0x7d')]&&(_0x277d39[_0x27f9('0x43')][_0x27f9('0x11d')](()=>{let _0x431c84=_0x277d39[_0x27f9('0x43')]['insertContent'](_0x195ce7[0x0],_0x195ce7[0x1],_0x195ce7[0x2],_0x195ce7[0x3],{'forceDefaultExecution':!0x0});if(!_0x431c84)return;_0x380ff7[_0x27f9('0x10a')]=_0x431c84[_0x27f9('0x20')]();const _0x18d836=_0x431c84[_0x27f9('0x50')]['nodeBefore'],_0x138e27=_0x277d39['model']['schema'];_0x18d836&&_0x138e27['isBlock'](_0x18d836)&&!_0x138e27[_0x27f9('0x12a')](_0x18d836)&&(_0x431c84=_0x277d39[_0x27f9('0x43')][_0x27f9('0x27')](_0x431c84[_0x27f9('0xa3')],_0x277d39[_0x27f9('0x43')][_0x27f9('0xf6')](_0x18d836,_0x27f9('0x50')))),this['markInsertion'](_0x431c84);}),_0x380ff7[_0x27f9('0x2')]());},{'priority':_0x27f9('0xa1')}),this[_0x27f9('0xcc')]=new _0x4a84ff(_0x277d39,this[_0x27f9('0x80')]),this[_0x27f9('0x1c')][_0x27f9('0x96')][_0x27f9('0x5b')]('trackChanges',this['trackChangesCommand']),this[_0x27f9('0x3c')](_0x27f9('0x10b'));const _0xfa177c=new _0x45073c(_0x277d39,this[_0x27f9('0x11b')]);_0x277d39[_0x27f9('0x96')][_0x27f9('0x5b')](_0x27f9('0x55'),_0xfa177c),this[_0x27f9('0x3c')]('acceptSuggestion');const _0x3bd353=new _0x5541a8(_0x277d39,this['_suggestions']);_0x277d39[_0x27f9('0x96')][_0x27f9('0x5b')]('discardSuggestion',_0x3bd353),this['enableCommand']('discardSuggestion'),_0x277d39[_0x27f9('0x96')][_0x27f9('0x5b')](_0x27f9('0xb8'),new _0x262ddd(_0x277d39,_0xfa177c,this[_0x27f9('0x11b')])),this[_0x27f9('0x3c')](_0x27f9('0xb8')),_0x277d39[_0x27f9('0x96')]['add'](_0x27f9('0x12d'),new _0x17b9cb(_0x277d39,_0x3bd353,this[_0x27f9('0x11b')])),this['enableCommand'](_0x27f9('0x12d')),_0x277d39['commands'][_0x27f9('0x5b')]('acceptSelectedSuggestions',new _0x47cd3d(_0x277d39,_0xfa177c,this[_0x27f9('0x11b')])),this[_0x27f9('0x3c')](_0x27f9('0x6a')),_0x277d39['commands'][_0x27f9('0x5b')](_0x27f9('0x40'),new _0x33f42e(_0x277d39,_0x3bd353,this[_0x27f9('0x11b')])),this['enableCommand'](_0x27f9('0x40'));const _0x397eac=_0x277d39['plugins'][_0x27f9('0xa0')](_0x27f9('0x6e'));this[_0x27f9('0x9b')](_0x397eac,_0x27f9('0x81'),(_0x2ce774,{threadId:_0xd5867d})=>{const _0x507adc=this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0xd5867d);_0x507adc&&_0x507adc[_0x27f9('0x67')]&&0x1===_0x507adc[_0x27f9('0x67')]['length']&&this['_updateSuggestionData'](_0xd5867d,{'hasComments':!0x0});},{'priority':'low'}),this[_0x27f9('0x9b')](_0x397eac,_0x27f9('0xbd'),(_0x2214ae,{threadId:_0xe67651})=>{const _0x17a637=this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0xe67651);_0x17a637&&_0x17a637[_0x27f9('0x67')]&&!_0x17a637[_0x27f9('0x67')]['length']&&this[_0x27f9('0x72')](_0xe67651,{'hasComments':!0x1});},{'priority':_0x27f9('0x101')});}set[_0x27f9('0xb')](_0x2bd289){if(this[_0x27f9('0x8f')])throw new _0x38ab46(_0x27f9('0x48'),this);this['_adapter']=_0x2bd289;}get[_0x27f9('0xb')](){return this[_0x27f9('0x8f')];}[_0x27f9('0x25')]({skipNotAttached:_0x586028=!0x1,toJSON:_0x4a4618=!0x1}={}){const _0xb202a9=[];for(const _0x371950 of this[_0x27f9('0x11b')][_0x27f9('0x115')]())_0x586028&&!_0x371950['isInContent']||_0xb202a9[_0x27f9('0x14')](_0x371950);return _0x4a4618?_0xb202a9['map'](_0x213b48=>_0x213b48[_0x27f9('0xbc')]()):_0xb202a9;}[_0x27f9('0x76')](_0x1af070){const _0x45a1ca=this[_0x27f9('0x11b')]['get'](_0x1af070);if(!_0x45a1ca)throw new _0x38ab46(_0x27f9('0x93'),this);return _0x45a1ca;}[_0x27f9('0xd2')](_0x21e98c){return this[_0x27f9('0x11b')][_0x27f9('0xde')](_0x21e98c);}[_0x27f9('0x103')](_0x1204c2){const {id:_0x4c83a2,authorId:_0x268239}=_0x1204c2,[_0x5c97d6,_0x4a99d4]=_0x1204c2['type']['split'](':'),_0x15c540=this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0x4c83a2)||this[_0x27f9('0x2c')](_0x5c97d6,_0x4a99d4,_0x4c83a2,_0x268239);switch(this['_addThreadToSuggestion'](_0x15c540),this[_0x27f9('0x5c')](_0x15c540,_0x5c97d6,_0x4a99d4||null,_0x268239),_0x15c540[_0x27f9('0x49')]=_0x1204c2[_0x27f9('0x49')],_0x1204c2[_0x27f9('0x1a')]&&(_0x15c540[_0x27f9('0x1a')]=_0x1204c2['data']),_0x1204c2[_0x27f9('0xb4')]&&(_0x15c540[_0x27f9('0xb4')]=_0x1204c2[_0x27f9('0xb4')]),this[_0x27f9('0x8f')]&&this[_0x27f9('0x8f')][_0x27f9('0x15')]||(_0x15c540[_0x27f9('0x89')]=!0x0),this['_suggestionState'][_0x27f9('0xa0')](_0x15c540)){case _0x27f9('0x122'):this[_0x27f9('0x53')][_0x27f9('0xe9')](_0x15c540,_0x27f9('0x100'));break;case _0x27f9('0xf0'):_0x15c540[_0x27f9('0x65')]?(this[_0x27f9('0x53')]['set'](_0x15c540,_0x27f9('0x12c')),this[_0x27f9('0x6c')]('suggestionLoaded',_0x15c540)):this['_suggestionState']['set'](_0x15c540,_0x27f9('0x8'));}return _0x15c540;}[_0x27f9('0x55')](_0x137d18){this[_0x27f9('0x62')](()=>{this[_0x27f9('0x1c')][_0x27f9('0x43')][_0x27f9('0x11d')](()=>{for(const _0x3012dd of _0x137d18[_0x27f9('0xab')]())_0x3012dd[_0x27f9('0x42')]();});});}[_0x27f9('0xaa')](_0x40c4d8){this[_0x27f9('0x62')](()=>{this[_0x27f9('0x1c')][_0x27f9('0x43')][_0x27f9('0x11d')](()=>{for(const _0xfd07b0 of _0x40c4d8[_0x27f9('0xab')]())_0xfd07b0[_0x27f9('0x34')]();});});}[_0x27f9('0x3c')](_0x4b7228,_0x436a60){const _0x327cf8=this[_0x27f9('0x1c')][_0x27f9('0x96')][_0x27f9('0xa0')](_0x4b7228);if(!_0x327cf8)throw new _0x38ab46(_0x27f9('0x66'),this,{'commandName':_0x4b7228});this[_0x27f9('0x80')][_0x27f9('0x5b')](_0x327cf8),_0x436a60&&_0x327cf8['on'](_0x27f9('0x6f'),(_0x14f0b2,_0x5bcfea)=>{this['trackChangesCommand'][_0x27f9('0x7d')]&&(this[_0x27f9('0xa8')]||_0x5bcfea['length']>0x0&&_0x5bcfea[_0x5bcfea['length']-0x1]&&_0x5bcfea[_0x5bcfea[_0x27f9('0xed')]-0x1]['forceDefaultExecution']||(_0x436a60((..._0x1feef4)=>_0x327cf8['execute'](..._0x1feef4,{'forceDefaultExecution':!0x0}),..._0x5bcfea),_0x14f0b2[_0x27f9('0x2')]()));},{'priority':'high'});}[_0x27f9('0x62')](_0x500ea3){let _0x2c7cae,_0x1b9b36;const _0x475914=this[_0x27f9('0xa8')];this[_0x27f9('0xa8')]=!0x0;try{_0x2c7cae=_0x500ea3();}catch(_0x22dc5a){_0x1b9b36=_0x22dc5a;}return _0x475914||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x1b9b36&&_0x38ab46[_0x27f9('0xd7')](_0x1b9b36,this),_0x2c7cae;}[_0x27f9('0x126')](_0x2eebb5,_0x28989a=null,_0x5c5eaa={}){if(_0x2eebb5[_0x27f9('0x73')])return null;const _0x3b5e25=this[_0x27f9('0x1c')][_0x27f9('0xef')]['get'](_0x27f9('0x61'))['me'];for(const {suggestion:_0x9ec414,meta:_0x2a610e}of this['_findSuggestions'](_0x2eebb5,_0x27f9('0xda')))if(_0x2a610e['isOwn']){if(!_0x2a610e[_0x27f9('0x121')])return _0x9ec414;if(_0x28989a==_0x9ec414[_0x27f9('0x10d')]){const _0x47dd95=_0x9ec414[_0x27f9('0x36')]();return _0x47dd95[_0x27f9('0xa3')][_0x27f9('0x8a')](_0x2eebb5['end'])?this[_0x27f9('0x52')](_0x9ec414,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x2eebb5[_0x27f9('0xa3')],_0x47dd95[_0x27f9('0x50')])):this['_setSuggestionRange'](_0x9ec414,this[_0x27f9('0xd9')]['createRange'](_0x47dd95['start'],_0x2eebb5[_0x27f9('0x50')])),_0x9ec414;}}const _0x51152d=_0x322ea4(),_0xf14fd=_0x3b5e25['id'],_0x5647bb=_0x28989a?_0x27f9('0x110')+_0x28989a:'insertion',_0x55fabd=this[_0x27f9('0xec')]({'id':_0x51152d,'type':_0x5647bb,'createdAt':new Date(),'authorId':_0xf14fd,'attributes':_0x5c5eaa});return this[_0x27f9('0x69')](_0x5647bb,_0x51152d,_0xf14fd,_0x2eebb5),_0x55fabd;}[_0x27f9('0x11a')](_0x1ca58d,_0x20d207='multi',_0x1786d2={}){const _0x4edaa=this[_0x27f9('0x1c')][_0x27f9('0xef')][_0x27f9('0xa0')](_0x27f9('0x61'))['me'],_0x2b7e68=this[_0x27f9('0xb6')]['getSuggestionCallback']('insertion',_0x20d207,_0x27f9('0x13'));for(const _0x488e23 of this[_0x27f9('0x25')]())if(_0x488e23[_0x27f9('0xc3')]['id']==_0x4edaa['id']&&_0x27f9('0xda')==_0x488e23['type']&&_0x488e23['subType']==_0x20d207&&(_0x2b7e68(_0x488e23[_0x27f9('0x7a')](),_0x1ca58d)||_0x2b7e68(_0x1ca58d,_0x488e23[_0x27f9('0x7a')]()))){for(const _0x29d3e9 of _0x1ca58d)_0x488e23[_0x27f9('0xc1')](_0x29d3e9);return _0x488e23;}for(const _0xca948 of _0x1ca58d)for(const {suggestion:_0x247b16,meta:_0x54a89c}of this['_findSuggestions'](_0xca948,_0x27f9('0xda'))){if(!_0x54a89c[_0x27f9('0xf5')])continue;let _0x5d0cf1=!0x0;for(const _0x1dac44 of _0x247b16[_0x27f9('0x7a')]())for(const _0x5b4628 of _0x1ca58d)if(!_0x1dac44['containsRange'](_0x5b4628)){_0x5d0cf1=!0x1;break;}if(_0x5d0cf1)return _0x247b16;}const _0x2a6f6a=_0x322ea4(),_0x5542f5=_0x4edaa['id'],_0xd297bb=_0x27f9('0x110')+_0x20d207,_0x5bd652=this[_0x27f9('0xec')]({'id':_0x2a6f6a,'type':_0xd297bb,'createdAt':new Date(),'authorId':_0x5542f5,'attributes':_0x1786d2});for(const _0x247100 of _0x1ca58d)this[_0x27f9('0x69')](_0xd297bb,_0x2a6f6a,_0x5542f5,_0x247100,_0xfe1c55[_0x27f9('0xac')]());return _0x5bd652;}[_0x27f9('0x26')](_0x2a4cd8,_0x23908d,_0x1786f1=null,_0x41e1f1={}){if(_0x1786f1=_0x1786f1||yt(_0x23908d),_0x2a4cd8[_0x27f9('0x73')])return;const _0x5acb14=this[_0x27f9('0x1c')][_0x27f9('0xef')]['get'](_0x27f9('0x61'))['me'],_0x4e5cd6=[];for(const {suggestion:_0x14356a,meta:_0x50567f}of this[_0x27f9('0x5')](_0x2a4cd8,_0x27f9('0xda')))_0x50567f[_0x27f9('0xf5')]&&!_0x50567f['isInsideObject']&&_0x4e5cd6[_0x27f9('0x14')](..._0x14356a[_0x27f9('0x7a')]());const _0x585aee=function(_0x36789a,_0x70e1da){const _0x145a14=[];for(const _0x3cc3a7 of _0x70e1da){const _0x4c9184=_0x36789a['getIntersection'](_0x3cc3a7);_0x4c9184&&_0x145a14['push'](_0x4c9184);}return _0x145a14;}(_0x2a4cd8,_0x4e5cd6),_0x427e36=function(_0x4ca234,_0x145fa6){const _0x15dcc7=[_0x4ca234];for(const _0x18e8c9 of _0x145fa6){let _0x4758f8=0x0;for(;_0x4758f8<_0x15dcc7[_0x27f9('0xed')];){const _0x37feb9=_0x15dcc7[_0x4758f8][_0x27f9('0xb2')](_0x18e8c9);_0x15dcc7[_0x27f9('0x0')](_0x4758f8,0x1,..._0x37feb9),_0x4758f8+=_0x37feb9[_0x27f9('0xed')];}}return _0x15dcc7;}(_0x2a4cd8,_0x4e5cd6);_0x585aee[_0x27f9('0xed')]&&this[_0x27f9('0xd9')][_0x27f9('0x11d')](()=>{for(const _0x5b8e0a of _0x585aee){const _0x1d2a47=this['_suggestionFactory']['getSuggestionCallback'](_0x27f9('0x107'),_0x1786f1,_0x27f9('0x42'));this[_0x27f9('0x62')](()=>_0x1d2a47([_0x5b8e0a],_0x23908d,_0x41e1f1));}});for(const _0x4e5167 of _0x427e36){let _0xc29246=null,_0x1589a3=_0x4e5167[_0x27f9('0xa3')],_0x18786e=_0x4e5167['end'];for(const {suggestion:_0x466069,meta:_0x1a0346}of this[_0x27f9('0x5')](_0x4e5167,_0x27f9('0x107'))){if(!_0x1a0346[_0x27f9('0xf5')])continue;if(_0x466069['subType']!=_0x1786f1)continue;const _0x4b2daf=_0x466069[_0x27f9('0x36')]();if(_0x4b2daf[_0x27f9('0x3')](_0x4e5167,!0x0))return;_0x1589a3=_0x1589a3[_0x27f9('0xfa')](_0x4b2daf['start'])?_0x1589a3:_0x4b2daf[_0x27f9('0xa3')],_0x18786e=_0x18786e[_0x27f9('0x2a')](_0x4b2daf[_0x27f9('0x50')])?_0x18786e:_0x4b2daf[_0x27f9('0x50')],_0xc29246?_0x4b2daf[_0x27f9('0xa3')]['isBefore'](_0xc29246['getFirstRange']()[_0x27f9('0xa3')])?(_0xc29246[_0x27f9('0xcf')](),_0xc29246=_0x466069):_0x466069[_0x27f9('0xcf')]():_0xc29246=_0x466069;}const _0x16b193=this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x1589a3,_0x18786e);if(_0xc29246)this[_0x27f9('0x52')](_0xc29246,_0x16b193);else{const _0x53a5a9=_0x322ea4(),_0x226c01=_0x5acb14['id'];this[_0x27f9('0xec')]({'id':_0x53a5a9,'type':_0x27f9('0x4c')+_0x1786f1,'data':_0x23908d,'createdAt':new Date(),'authorId':_0x226c01,'attributes':_0x41e1f1}),this[_0x27f9('0x69')](_0x27f9('0x4c')+_0x1786f1,_0x53a5a9,_0x226c01,_0x16b193);}}}[_0x27f9('0xfc')](_0x3e0564,_0x2ca160,_0x2568b0=[],_0x3bd5be=null,_0x1ee7d5={}){_0x2ca160[_0x27f9('0x1f')]||(_0x2ca160[_0x27f9('0x1f')]=_0x2ca160[_0x27f9('0xf4')]),_0x2ca160[_0x27f9('0xbf')]=_0x3e0564['is'](_0x27f9('0x16')),_0x3bd5be=_0x3bd5be||yt(_0x2ca160);const _0x451b48=_0x2568b0[_0x27f9('0x47')](_0x1823c8=>St(_0x1823c8,this[_0x27f9('0xd9')])),_0x309207=_0x3e0564['is']('range')?_0x3e0564:St(_0x3e0564,this[_0x27f9('0xd9')]);_0x451b48[_0x27f9('0x14')](_0x309207);let _0xa18c77=!0x0;for(const _0x134d1b of _0x451b48)if(!this[_0x27f9('0xff')](_0x134d1b)){_0xa18c77=!0x1;break;}if(_0xa18c77){const _0x1a87d7=this[_0x27f9('0xb6')]['getSuggestionCallback'](_0x27f9('0xc'),_0x3bd5be,_0x27f9('0x42'));return void this['forceDefaultExecution'](()=>_0x1a87d7([_0x309207],_0x2ca160,_0x1ee7d5));}let _0x307437=null,_0x530b6d=_0x309207[_0x27f9('0xa3')],_0x158734=_0x309207[_0x27f9('0x50')];for(const {suggestion:_0x14d607,meta:_0x41be6e}of this[_0x27f9('0x5')](_0x309207,_0x27f9('0xc'))){if(!_0x41be6e[_0x27f9('0xf5')]||_0x41be6e['isNextTo']||_0x41be6e['containsRangeInObject']||_0x41be6e[_0x27f9('0xad')])continue;if(_0x14d607['data'][_0x27f9('0x1f')]!=_0x2ca160[_0x27f9('0x1f')])continue;const _0x56ff72=_0x14d607[_0x27f9('0x36')]();if(_0x14d607[_0x27f9('0x10d')]==_0x3bd5be){if(_0x56ff72[_0x27f9('0x3')](_0x309207,!0x0))return;_0x530b6d=_0x530b6d['isBefore'](_0x56ff72[_0x27f9('0xa3')])?_0x530b6d:_0x56ff72['start'],_0x158734=_0x158734[_0x27f9('0x2a')](_0x56ff72[_0x27f9('0x50')])?_0x158734:_0x56ff72[_0x27f9('0x50')],_0x307437?_0x56ff72[_0x27f9('0xa3')][_0x27f9('0xfa')](_0x307437[_0x27f9('0x36')]()['start'])?(_0x307437[_0x27f9('0xcf')](),_0x307437=_0x14d607):_0x14d607[_0x27f9('0xcf')]():_0x307437=_0x14d607;}else{const _0x433d17=_0x309207[_0x27f9('0x23')](_0x56ff72);this[_0x27f9('0x75')](_0x14d607,_0x433d17);}}const _0x475cb3=this[_0x27f9('0x1c')][_0x27f9('0xef')][_0x27f9('0xa0')](_0x27f9('0x61'))['me'],_0x2653a4=_0x322ea4(),_0x351054=_0x475cb3['id'];_0x307437?this[_0x27f9('0x52')](_0x307437,this[_0x27f9('0xd9')]['createRange'](_0x530b6d,_0x158734)):(this[_0x27f9('0xec')]({'id':_0x2653a4,'type':_0x27f9('0x84')+_0x3bd5be,'data':_0x2ca160,'createdAt':new Date(),'authorId':_0x351054,'attributes':_0x1ee7d5}),this[_0x27f9('0x69')]('formatBlock:'+_0x3bd5be,_0x2653a4,_0x351054,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x530b6d,_0x158734)));}[_0x27f9('0x12b')](_0xbabe1b,_0x4e8725,_0x489644=[],_0x599511=null,_0x32f119={}){_0x4e8725['formatGroupId']||(_0x4e8725[_0x27f9('0x1f')]=_0x4e8725[_0x27f9('0xf4')]),_0x4e8725[_0x27f9('0xbf')]=!0x1,_0x599511=_0x599511||yt(_0x4e8725);const _0x21964b=_0x489644[_0x27f9('0x47')](_0x4c64c8=>St(_0x4c64c8,this[_0x27f9('0xd9')])),_0x5bdf74=_0xbabe1b[_0x27f9('0x47')](_0x12a6b2=>St(_0x12a6b2,this[_0x27f9('0xd9')]));_0x21964b[_0x27f9('0x14')](..._0x5bdf74);let _0x5c79cc=!0x0;for(const _0x4aad4b of _0x21964b)if(!this[_0x27f9('0xff')](_0x4aad4b)){_0x5c79cc=!0x1;break;}if(_0x5c79cc){const _0x10ec5b=this[_0x27f9('0xb6')]['getSuggestionCallback']('formatBlock',_0x599511,_0x27f9('0x42'));return void this['forceDefaultExecution'](()=>_0x10ec5b(_0x5bdf74,_0x4e8725,_0x32f119));}const _0x235f26=this['editor'][_0x27f9('0xef')][_0x27f9('0xa0')](_0x27f9('0x61'))['me'];for(const _0x2bcda9 of this[_0x27f9('0x25')]()){if(_0x2bcda9[_0x27f9('0xc3')]['id']!=_0x235f26['id'])continue;if(_0x27f9('0xc')!=_0x2bcda9[_0x27f9('0x10e')]||_0x2bcda9['data'][_0x27f9('0x1f')]!=_0x4e8725['formatGroupId'])continue;const _0x402b26=_0x2bcda9['subType']==_0x599511;for(let _0x431509=0x0;_0x431509<_0x5bdf74[_0x27f9('0xed')];_0x431509++){const _0xcd7f45=_0x5bdf74[_0x431509];for(const _0x4d2019 of _0x2bcda9[_0x27f9('0x10c')]()){const _0x4692af=_0x4d2019['getRange']();if(_0xcd7f45[_0x27f9('0x8a')](_0x4692af)){_0x402b26?(_0x5bdf74[_0x27f9('0x0')](_0x431509,0x1),_0x431509--):_0x2bcda9[_0x27f9('0x8c')](_0x4d2019['name']);break;}}}}if(0x0==_0x5bdf74[_0x27f9('0xed')])return;const _0x240f73=this['_suggestionFactory'][_0x27f9('0xc7')](_0x27f9('0xc'),_0x599511,'join');for(const _0x2a2f4c of this['getSuggestions']())if(_0x2a2f4c[_0x27f9('0xc3')]['id']==_0x235f26['id']&&_0x27f9('0xc')==_0x2a2f4c[_0x27f9('0x10e')]&&_0x2a2f4c[_0x27f9('0x1a')][_0x27f9('0x1f')]==_0x4e8725[_0x27f9('0x1f')]&&_0x2a2f4c[_0x27f9('0x10d')]==_0x599511&&(_0x240f73(_0x2a2f4c[_0x27f9('0x7a')](),_0x5bdf74)||_0x240f73(_0x5bdf74,_0x2a2f4c[_0x27f9('0x7a')]()))){for(const _0x43c92b of _0x5bdf74)_0x2a2f4c[_0x27f9('0xc1')](_0x43c92b);return _0x2a2f4c;}const _0x46c557=_0x322ea4(),_0x3f42bb=_0x235f26['id'],_0x2835a1=_0x27f9('0x84')+_0x599511,_0xe1b376=this[_0x27f9('0xec')]({'id':_0x46c557,'type':_0x2835a1,'data':_0x4e8725,'createdAt':new Date(),'authorId':_0x3f42bb,'attributes':_0x32f119});for(const _0x5b009f of _0x5bdf74)this[_0x27f9('0x69')](_0x2835a1,_0x46c557,_0x3f42bb,_0x5b009f,_0xfe1c55[_0x27f9('0xac')]());return _0xe1b376;}[_0x27f9('0x37')](_0x397dc5,_0x48f272=null,_0x31fbe7={}){if(_0x397dc5[_0x27f9('0x73')])return null;const _0x2b87dd=this['editor']['plugins'][_0x27f9('0xa0')](_0x27f9('0x61'))['me'],_0xf41d41=new _0xdaaa0f(_0x397dc5[_0x27f9('0xa3')],_0x397dc5[_0x27f9('0x50')]);for(const {suggestion:_0x20f4d2,meta:_0xe528a7}of this[_0x27f9('0x5')](_0xf41d41,_0x27f9('0xda')))if(_0xe528a7[_0x27f9('0xf5')]&&!_0xe528a7[_0x27f9('0x121')]){if(_0x20f4d2[_0x27f9('0xd4')]){const _0x2261da=_0x20f4d2[_0x27f9('0x7a')]()[_0x27f9('0x9d')](_0x4dd027=>'$graveyard'!=_0x4dd027[_0x27f9('0x109')][_0x27f9('0xca')]);_0x2261da[_0x27f9('0xba')](_0x43520d=>_0xf41d41[_0x27f9('0x3')](_0x43520d,!0x0))&&_0x20f4d2[_0x27f9('0x34')]();if(_0x2261da[_0x27f9('0x82')](_0x2405cc=>_0x2405cc['containsRange'](_0xf41d41,!0x0))){const _0x1ffad5=this[_0x27f9('0xb6')]['getSuggestionCallback'](_0x27f9('0x119'),_0x48f272,_0x27f9('0x42'));return this[_0x27f9('0x62')](()=>_0x1ffad5([_0xf41d41],null,_0x31fbe7)),null;}}else{const _0x167d22=_0xf41d41[_0x27f9('0x23')](_0x20f4d2['getFirstRange']());_0x20f4d2[_0x27f9('0x68')]([_0x167d22],null,_0x31fbe7);}}if(_0xf41d41[_0x27f9('0x9a')](),_0xf41d41['isCollapsed']||_0x27f9('0xd3')==_0xf41d41['root'][_0x27f9('0xca')])return null;let _0x534235=null,_0x1678fe=_0xf41d41[_0x27f9('0xa3')],_0x4ee27f=_0xf41d41[_0x27f9('0x50')];for(const {suggestion:_0x51d279,meta:_0x60277a}of this[_0x27f9('0x5')](_0xf41d41,_0x27f9('0x119')))if(_0x60277a[_0x27f9('0xf5')]){if(_0x51d279[_0x27f9('0xd4')]){let _0x58d80b=!0x0;for(const _0x3864fd of _0x51d279[_0x27f9('0x7a')]()){if(_0x3864fd[_0x27f9('0x3')](_0xf41d41,!0x0))return _0x51d279;_0xf41d41[_0x27f9('0x3')](_0x3864fd)||(_0x58d80b=!0x1);}_0x58d80b&&_0x51d279[_0x27f9('0x34')]();}else{const _0xaed4d=_0x51d279[_0x27f9('0x36')]();if(_0xaed4d[_0x27f9('0x3')](_0xf41d41,!0x0))return _0x51d279;_0x1678fe=_0x1678fe['isBefore'](_0xaed4d['start'])?_0x1678fe:_0xaed4d[_0x27f9('0xa3')],_0x4ee27f=_0x4ee27f[_0x27f9('0x2a')](_0xaed4d[_0x27f9('0x50')])?_0x4ee27f:_0xaed4d[_0x27f9('0x50')],_0x534235?_0xaed4d['start']['isBefore'](_0x534235['getFirstRange']()[_0x27f9('0xa3')])?(_0x534235[_0x27f9('0xcf')](),_0x534235=_0x51d279):_0x51d279[_0x27f9('0xcf')]():_0x534235=_0x51d279;}}if(_0x534235)return this[_0x27f9('0x52')](_0x534235,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x1678fe,_0x4ee27f)),_0x534235;{const _0x456c5d=_0x322ea4(),_0x2e911d=this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x1678fe,_0x4ee27f),_0x8ef773=_0x2b87dd['id'],_0x14c134=_0x48f272?_0x27f9('0x108')+_0x48f272:_0x27f9('0x119'),_0x2aba15=this[_0x27f9('0xec')]({'id':_0x456c5d,'type':_0x14c134,'createdAt':new Date(),'authorId':_0x8ef773,'attributes':_0x31fbe7});return this[_0x27f9('0x69')](_0x14c134,_0x456c5d,_0x8ef773,_0x2e911d),_0x2aba15;}}[_0x27f9('0x77')](_0x4aba65,_0x189b78=_0x27f9('0x88'),_0x543dd4={}){const _0xc2a493=this[_0x27f9('0x1c')][_0x27f9('0xef')][_0x27f9('0xa0')](_0x27f9('0x61'))['me'],_0x5076a7=_0x4aba65[_0x27f9('0x47')](_0x5f36dc=>new _0xdaaa0f(_0x5f36dc['start'],_0x5f36dc[_0x27f9('0x50')])),_0x4010a1=new Set();for(const _0x1af148 of _0x5076a7)for(const {suggestion:_0x256a84,meta:_0x5f3f5f}of this['_findSuggestions'](_0x1af148,_0x27f9('0xda')))_0x5f3f5f['isOwn']&&!_0x5f3f5f[_0x27f9('0x121')]&&_0x4010a1[_0x27f9('0x5b')](_0x256a84);for(const _0x54338e of _0x4010a1)if(_0x54338e['isMultiRange']){const _0x383ca0=_0x54338e[_0x27f9('0x7a')]();(!_0x54338e[_0x27f9('0xb4')]||!_0x54338e['attributes']['skipNestingCheck'])&&(_0x383ca0[_0x27f9('0xba')](_0x13b372=>_0x5076a7['some'](_0x28ae38=>_0x28ae38['containsRange'](_0x13b372,!0x0)))&&_0x54338e['discard']());if(_0x5076a7[_0x27f9('0xba')](_0x247f17=>_0x383ca0[_0x27f9('0x82')](_0x2b127e=>_0x2b127e[_0x27f9('0x3')](_0x247f17,!0x0)))){const _0x5749b7=this[_0x27f9('0xb6')]['getSuggestionCallback'](_0x27f9('0x119'),_0x189b78,'accept');return this[_0x27f9('0x62')](()=>_0x5749b7(_0x4aba65,null,_0x543dd4)),null;}}else{const _0x2c2233=_0x54338e[_0x27f9('0x36')]();_0x5076a7[_0x27f9('0x82')](_0x264ca8=>_0x264ca8['containsRange'](_0x2c2233,!0x0))&&_0x54338e[_0x27f9('0x34')]();if(_0x5076a7['every'](_0x2e1205=>_0x2c2233[_0x27f9('0x3')](_0x2e1205,!0x0))){const _0x90d042=this[_0x27f9('0xb6')]['getSuggestionCallback'](_0x27f9('0x119'),_0x189b78,'accept');return this[_0x27f9('0x62')](()=>_0x90d042(_0x5076a7,null,_0x543dd4)),null;}}const _0x362b00=this['_suggestionFactory'][_0x27f9('0xc7')](_0x27f9('0x119'),_0x189b78,_0x27f9('0x13'));let _0x3d4ef3=null;for(const _0x44c250 of this['getSuggestions']())if(_0x44c250[_0x27f9('0xc3')]['id']==_0xc2a493['id']&&_0x44c250['isInContent']&&'deletion'==_0x44c250[_0x27f9('0x10e')]&&_0x44c250['subType']==_0x189b78&&(_0x362b00(_0x44c250[_0x27f9('0x7a')](),_0x5076a7)||_0x362b00(_0x5076a7,_0x44c250[_0x27f9('0x7a')]()))){if(_0x3d4ef3){if(_0x44c250['commentThread']&&_0x44c250[_0x27f9('0x67')]['length'])continue;for(const _0x25d6f6 of _0x44c250[_0x27f9('0x7a')]())_0x3d4ef3[_0x27f9('0xfd')](_0x25d6f6)||_0x3d4ef3[_0x27f9('0xc1')](_0x25d6f6);_0x44c250[_0x27f9('0xcf')]();}else{_0x3d4ef3=_0x44c250;for(const _0x4aa016 of _0x5076a7)_0x44c250[_0x27f9('0xfd')](_0x4aa016)||_0x44c250[_0x27f9('0xc1')](_0x4aa016);}}if(_0x3d4ef3)return _0x3d4ef3;_0x4010a1[_0x27f9('0x7')]();for(const _0x924b43 of _0x5076a7)for(const {suggestion:_0x8dc5ad,meta:_0x3225b5}of this[_0x27f9('0x5')](_0x924b43,_0x27f9('0x119')))_0x3225b5[_0x27f9('0xf5')]&&_0x4010a1[_0x27f9('0x5b')](_0x8dc5ad);for(const _0x494d55 of _0x4010a1){const _0x34e3a6=_0x494d55[_0x27f9('0x7a')]();if(!_0x543dd4||!_0x543dd4[_0x27f9('0x102')]){if(_0x5076a7[_0x27f9('0xba')](_0x4f2c83=>_0x34e3a6[_0x27f9('0x82')](_0x353bdd=>_0x353bdd['containsRange'](_0x4f2c83,!0x0))))return _0x494d55;}(!_0x494d55[_0x27f9('0xb4')]||!_0x494d55[_0x27f9('0xb4')][_0x27f9('0x102')])&&(_0x34e3a6['every'](_0x5d78c4=>_0x5076a7[_0x27f9('0x82')](_0x2e1c5d=>_0x2e1c5d[_0x27f9('0x3')](_0x5d78c4,!0x0)))&&_0x494d55[_0x27f9('0x34')]());}const _0x508aaa=_0x322ea4(),_0x6e6dee=_0xc2a493['id'],_0x9852db='deletion:'+_0x189b78,_0x28cad1=this[_0x27f9('0xec')]({'id':_0x508aaa,'type':_0x9852db,'createdAt':new Date(),'authorId':_0x6e6dee,'attributes':_0x543dd4});for(const _0x1002e0 of _0x5076a7)_0x1002e0['detach'](),_0x1002e0['isCollapsed']||_0x27f9('0xd3')==_0x1002e0[_0x27f9('0x109')][_0x27f9('0xca')]||this[_0x27f9('0x69')](_0x9852db,_0x508aaa,_0x6e6dee,_0x1002e0,_0xfe1c55['getMultiRangeId']());return _0x28cad1;}[_0x27f9('0x52')](_0x28d45c,_0x14276){const _0x217e5a=_0x28d45c[_0x27f9('0xa6')]();this[_0x27f9('0xd9')][_0x27f9('0x11d')](_0x4decb5=>{_0x4decb5[_0x27f9('0x10f')](_0x217e5a,{'range':_0x14276});});}['_addThreadToSuggestion'](_0x50c1a6){const _0x52931f=_0x50c1a6['id'],_0x4ab73b=this[_0x27f9('0x1c')][_0x27f9('0x2e')][_0x27f9('0xa0')](_0x27f9('0x32'));this['_commentsRepository'][_0x27f9('0x87')](_0x52931f)||this[_0x27f9('0x59')]['addCommentThread']({'channelId':_0x4ab73b,'threadId':_0x52931f});const _0x10e2f1=this[_0x27f9('0x59')][_0x27f9('0x1b')](_0x52931f);_0x10e2f1[_0x27f9('0x112')](_0x27f9('0x39')),_0x10e2f1[_0x27f9('0x39')]=!0x1,_0x50c1a6[_0x27f9('0x67')]=_0x10e2f1;}[_0x27f9('0x5c')](_0x4f3552,_0xa0ed5,_0x53f8c5,_0x5bc9ac){if(_0x4f3552[_0x27f9('0x10e')]!=_0xa0ed5||_0x4f3552[_0x27f9('0x10d')]!=_0x53f8c5||_0x4f3552[_0x27f9('0xc3')]['id']!=_0x5bc9ac)throw this[_0x27f9('0x1c')][_0x27f9('0x9f')](_0x27f9('0x4e')),new _0x38ab46('track-changes-suggestion-data-mismatch',this);}[_0x27f9('0x75')](_0x4a0c3d,_0x1cac4c){const _0x16d878=_0x4a0c3d[_0x27f9('0x36')]();if(_0x1cac4c[_0x27f9('0x8a')](_0x16d878))_0x4a0c3d['removeMarkers']();else{if(_0x16d878[_0x27f9('0x3')](_0x1cac4c)){const _0x317c65=this[_0x27f9('0xd9')]['createPositionAt'](_0x1cac4c['start'][_0x27f9('0x71')],_0x27f9('0x50'));this[_0x27f9('0x52')](_0x4a0c3d,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x16d878[_0x27f9('0xa3')],_0x317c65));const _0x5de351=_0x322ea4(),_0x5b8c06=_0x4a0c3d[_0x27f9('0xc3')]['id'],_0x8e418e=_0x4a0c3d[_0x27f9('0x10e')]+':'+_0x4a0c3d['subType'];this['_setSuggestionData']({'id':_0x5de351,'type':_0x8e418e,'createdAt':new Date(),'authorId':_0x5b8c06,'data':_0x4a0c3d[_0x27f9('0x1a')],'attributes':_0x4a0c3d[_0x27f9('0xb4')]});const _0x351618=this[_0x27f9('0xd9')][_0x27f9('0xf6')](_0x1cac4c[_0x27f9('0x50')]['parent'],_0x27f9('0x44')),_0x4a7de7=this[_0x27f9('0xd9')]['createRange'](_0x351618,_0x16d878[_0x27f9('0x50')]);this['_addSuggestionMarker'](_0x8e418e,_0x5de351,_0x5b8c06,_0x4a7de7);}else{if(_0x16d878[_0x27f9('0x5e')](_0x1cac4c['start'])){const _0x2dc7ed=this[_0x27f9('0xd9')][_0x27f9('0xf6')](_0x1cac4c['start'][_0x27f9('0x71')],_0x27f9('0x50'));this[_0x27f9('0x52')](_0x4a0c3d,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x16d878[_0x27f9('0xa3')],_0x2dc7ed));}else{const _0x484629=this[_0x27f9('0xd9')]['createPositionAt'](_0x1cac4c[_0x27f9('0x50')][_0x27f9('0x33')],_0x27f9('0x44'));this[_0x27f9('0x52')](_0x4a0c3d,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x484629,_0x16d878[_0x27f9('0x50')]));}}}}[_0x27f9('0xff')](_0xf4c23d){for(const {suggestion:_0x5f4515,meta:_0x5b99be}of this[_0x27f9('0x5')](_0xf4c23d,_0x27f9('0xda'))){if(!_0x5b99be['isOwn'])continue;const _0x528cb4=_0x5f4515[_0x27f9('0x7a')]();for(const _0x4058d0 of _0x528cb4)if(!_0xf4c23d['getDifference'](_0x4058d0)['length'])return!0x0;}return!0x1;}[_0x27f9('0x117')](_0x3cefeb){const _0x54a974=this[_0x27f9('0x1c')][_0x27f9('0xef')]['get'](_0x27f9('0x61'))['getUser'](_0x3cefeb);if(!_0x54a974)throw new _0x38ab46(_0x27f9('0xf3'),this);return _0x54a974;}[_0x27f9('0x2c')](_0x4495b9,_0x3c2537,_0x3502a8,_0x4dba50){const _0x3cb1c3=this[_0x27f9('0x117')](_0x4dba50),_0x4d156b=this['_suggestionFactory']['buildSuggestion'](_0x4495b9,_0x3c2537,_0x3502a8,_0x3cb1c3,_0x45d5fd=>this[_0x27f9('0x72')](_0x3502a8,{'attributes':_0x45d5fd}));return this[_0x27f9('0x9b')](_0x4d156b,'accept',()=>{this[_0x27f9('0x72')](_0x3502a8,{'state':'accepted'});},{'priority':_0x27f9('0xa1')}),this['listenTo'](_0x4d156b,'discard',()=>{this['_updateSuggestionData'](_0x3502a8,{'state':_0x27f9('0x21')});},{'priority':_0x27f9('0xa1')}),this[_0x27f9('0x11b')][_0x27f9('0xe9')](_0x3502a8,_0x4d156b),this['_suggestionState'][_0x27f9('0xe9')](_0x4d156b,_0x27f9('0x122')),_0x4d156b;}['_splitMarkerName'](_0x4208a2){const _0x4ea21e=_0x4208a2[_0x27f9('0x4d')](':');return{'group':_0x4ea21e[0x0],'type':_0x4ea21e[0x1],'subType':_0x4ea21e[_0x27f9('0xed')]>=0x5?_0x4ea21e[0x2]:null,'id':_0x4ea21e['length']<0x5?_0x4ea21e[0x2]:_0x4ea21e[0x3],'authorId':_0x4ea21e[_0x27f9('0xed')]<0x5?_0x4ea21e[0x3]:_0x4ea21e[0x4],'markerCount':0x6==_0x4ea21e[_0x27f9('0xed')]?_0x4ea21e[0x5]:null};}[_0x27f9('0xe3')](_0x27f083,_0x4446ae,_0x486c24){const _0x304061=_0x27f083['getFirstRange'](),_0x9c1a33=_0x304061[_0x27f9('0xa3')],_0x185b38=_0x304061['end'];this[_0x27f9('0x52')](_0x27f083,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x9c1a33,_0x4446ae));const _0x278f03=_0x322ea4(),_0x4b091e=_0x27f083[_0x27f9('0xc3')]['id'],_0x19f383=_0x27f083[_0x27f9('0x10e')]+(_0x27f083[_0x27f9('0x10d')]?':'+_0x27f083[_0x27f9('0x10d')]:'');this[_0x27f9('0xec')]({'id':_0x278f03,'type':_0x19f383,'createdAt':new Date(),'authorId':_0x4b091e,'originalSuggestionId':_0x27f083['id'],'data':_0x27f083[_0x27f9('0x1a')]}),_0x27f9('0xc')==_0x27f083['type']&&(_0x486c24=this[_0x27f9('0xd9')][_0x27f9('0x64')](_0x486c24['parent'])),this['_addSuggestionMarker'](_0x19f383,_0x278f03,_0x4b091e,this['_model']['createRange'](_0x486c24,_0x185b38));}['_findSuggestions'](_0x2409b7,_0xbf8c17=null){const _0xa47e78=[],_0x2e9eaa=this[_0x27f9('0xd9')][_0x27f9('0x85')],_0x5e436b=this[_0x27f9('0x1c')][_0x27f9('0xef')]['get'](_0x27f9('0x61'))['me'];for(const _0x28896e of this[_0x27f9('0x25')]())if(_0x28896e['isInContent']&&(!_0xbf8c17||_0x28896e['type']==_0xbf8c17))for(const _0x4d2289 of _0x28896e[_0x27f9('0x7a')]()){const _0x402599=_0x2409b7[_0x27f9('0xa3')][_0x27f9('0x8a')](_0x4d2289[_0x27f9('0x50')])||_0x2409b7[_0x27f9('0x50')][_0x27f9('0x8a')](_0x4d2289[_0x27f9('0xa3')]);if(_0x402599||_0x2409b7[_0x27f9('0x23')](_0x4d2289)){const _0x2bea0e=_0x2409b7[_0x27f9('0x3')](_0x4d2289)&&pt(_0x2e9eaa,_0x4d2289[_0x27f9('0xa3')],_0x2409b7),_0x46db3a=_0x4d2289[_0x27f9('0x3')](_0x2409b7)&&pt(_0x2e9eaa,_0x2409b7[_0x27f9('0xa3')],_0x4d2289);_0xa47e78[_0x27f9('0x14')]({'suggestion':_0x28896e,'meta':{'isOwn':_0x5e436b==_0x28896e['author'],'isNextTo':_0x402599,'isInsideObject':_0x2bea0e,'containsRangeInObject':_0x46db3a}});break;}}return _0xa47e78;}[_0x27f9('0x69')](_0x28b99d,_0x5d6ba2,_0xe4fa78,_0x3fa3fd,_0x449dc4=null){this[_0x27f9('0xd9')][_0x27f9('0x11d')](_0x44f535=>{let _0x24d65a=_0x27f9('0x2f')+_0x28b99d+':'+_0x5d6ba2+':'+_0xe4fa78;_0x449dc4&&(_0x24d65a=_0x24d65a+':'+_0x449dc4),_0x44f535[_0x27f9('0xa2')](_0x24d65a,{'range':_0x3fa3fd,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x1a8401){const _0x140935=_0x1a8401[_0x27f9('0x7f')],_0x5a48a8=_0x1a8401[_0x27f9('0x7e')];_0x1a8401['previous']=null,null!=_0x140935&&(_0x140935[_0x27f9('0x7e')]=null),_0x1a8401[_0x27f9('0x7e')]=null,null!=_0x5a48a8&&(_0x5a48a8[_0x27f9('0x7f')]=null),_0x27f9('0x12c')==this[_0x27f9('0x53')][_0x27f9('0xa0')](_0x1a8401)&&(this[_0x27f9('0x53')]['set'](_0x1a8401,'removed'),this[_0x27f9('0x6c')](_0x27f9('0x38'),_0x1a8401,_0x140935,_0x5a48a8));}[_0x27f9('0xec')](_0x59033b){const _0x544240=_0x59033b['id'],_0x5def22=this['addSuggestionData'](_0x59033b);if(this[_0x27f9('0x8f')]&&this['_adapter']['addSuggestion']){const _0x1e24a6=this[_0x27f9('0x1c')][_0x27f9('0xef')][_0x27f9('0xa0')](_0x27f9('0x18')),_0x14969f=_0x5def22[_0x27f9('0x29')],_0x5cfb75=_0x5def22[_0x27f9('0x10d')]?_0x5def22[_0x27f9('0x10e')]+':'+_0x5def22[_0x27f9('0x10d')]:_0x5def22[_0x27f9('0x10e')],_0x744dbd=this['editor'][_0x27f9('0xe1')],_0x40e7fc=_0x1e24a6['add'](_0x1f9598(_0x744dbd,'PENDING_ACTION_SUGGESTION')),_0x367a36={'id':_0x544240,'type':_0x5cfb75,'hasComments':_0x14969f,'data':_0x59033b['data']||null,'originalSuggestionId':_0x59033b[_0x27f9('0x31')]||null,'attributes':_0x5def22[_0x27f9('0xb4')]};this[_0x27f9('0x8f')]['addSuggestion'](_0x367a36)[_0x27f9('0x11e')](_0x4907e9=>{_0x5def22[_0x27f9('0x89')]=!0x0,_0x1e24a6[_0x27f9('0xc0')](_0x40e7fc),_0x4907e9&&_0x4907e9[_0x27f9('0x49')]&&(this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0x544240)[_0x27f9('0x49')]=_0x4907e9[_0x27f9('0x49')]);});}return _0x5def22;}[_0x27f9('0x72')](_0x4d6903,_0x2d7fb0){const _0x1727e9=this[_0x27f9('0x1c')][_0x27f9('0xef')][_0x27f9('0xa0')]('PendingActions'),_0xca5acb=this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0x4d6903);if(this[_0x27f9('0x8f')]&&this[_0x27f9('0x8f')]['updateSuggestion']){if(_0xca5acb['_saved']){const _0x13643f=_0x1727e9[_0x27f9('0x5b')](_0x1f9598(this[_0x27f9('0x1c')][_0x27f9('0xe1')],_0x27f9('0xf8')));this[_0x27f9('0x8f')][_0x27f9('0x79')](_0x4d6903,_0x2d7fb0)['then'](()=>{_0x1727e9[_0x27f9('0xc0')](_0x13643f);});}else _0xca5acb['on'](_0x27f9('0xd8'),()=>{this[_0x27f9('0x72')](_0x4d6903,_0x2d7fb0);});}}[_0x27f9('0xf1')](_0x58cedb){if(!this[_0x27f9('0x8f')]||!this['_adapter']['getSuggestion'])throw new _0x38ab46(_0x27f9('0x3f'),this);return this[_0x27f9('0x8f')]['getSuggestion'](_0x58cedb);}[_0x27f9('0x1')](_0x3ed86d){const {id:_0x3040bb,type:_0x89161e,subType:_0x145e78,authorId:_0x37ba9a}=this['_splitMarkerName'](_0x3ed86d),_0x1db93a=this[_0x27f9('0x11b')][_0x27f9('0xa0')](_0x3040bb)||this[_0x27f9('0x2c')](_0x89161e,_0x145e78,_0x3040bb,_0x37ba9a);switch(this[_0x27f9('0x5c')](_0x1db93a,_0x89161e,_0x145e78,_0x37ba9a),this[_0x27f9('0x53')]['get'](_0x1db93a)){case _0x27f9('0x122'):this[_0x27f9('0xf1')](_0x3040bb)[_0x27f9('0x11e')](_0x57abe4=>{let _0x6b60f7=Promise['resolve']();_0x57abe4[_0x27f9('0x29')]&&(_0x6b60f7=this[_0x27f9('0x59')][_0x27f9('0x5d')]({'channelId':this[_0x27f9('0x1c')][_0x27f9('0x2e')][_0x27f9('0xa0')]('collaboration.channelId'),'threadId':_0x3040bb})),_0x6b60f7[_0x27f9('0x11e')](()=>{this[_0x27f9('0x103')](_0x57abe4)[_0x27f9('0x89')]=!0x0;});}),this[_0x27f9('0x53')][_0x27f9('0xe9')](_0x1db93a,_0x27f9('0xf0'));break;case'removed':this[_0x27f9('0x72')](_0x3040bb,{'state':_0x27f9('0x3a')});case _0x27f9('0x100'):this[_0x27f9('0x53')][_0x27f9('0xe9')](_0x1db93a,_0x27f9('0x12c')),this[_0x27f9('0x6c')](_0x27f9('0xc4'),_0x1db93a);break;case _0x27f9('0x12c'):this[_0x27f9('0x6c')]('suggestionChanged',_0x1db93a);}_0x1db93a['addMarkerName'](_0x3ed86d),this[_0x27f9('0xf')](_0x1db93a);}['_refreshSuggestionsChain'](_0x3ad47b){if(_0x3ad47b[_0x27f9('0xd4')])return;let _0x1a8582=!0x0,_0x472357=!0x0;for(const _0x35d55e of this[_0x27f9('0x25')]()){if(_0x35d55e['isMultiRange'])continue;if(_0x35d55e==_0x3ad47b||!_0x35d55e[_0x27f9('0x65')])continue;if(_0x35d55e[_0x27f9('0xc3')]['id']!=_0x3ad47b[_0x27f9('0xc3')]['id'])continue;const _0xb9c069=this['_suggestionFactory'][_0x27f9('0xc7')](_0x3ad47b[_0x27f9('0x10e')],_0x3ad47b[_0x27f9('0x10d')],'chain'),_0x22bf00=this['_suggestionFactory']['getSuggestionCallback'](_0x35d55e[_0x27f9('0x10e')],_0x35d55e[_0x27f9('0x10d')],'chain'),_0x1c6d69=_0xb9c069(_0x3ad47b,_0x35d55e),_0x1dc87d=_0x22bf00(_0x3ad47b,_0x35d55e);_0x1c6d69&&_0x1dc87d&&(_0x1c6d69[0x1]['commentThread']&&_0x1c6d69[0x1][_0x27f9('0x67')][_0x27f9('0xed')]||(_0x1c6d69[0x0][_0x27f9('0x7e')]=_0x1c6d69[0x1],_0x1c6d69[0x1]['previous']=_0x1c6d69[0x0],_0x1c6d69[0x0]==_0x3ad47b?_0x472357=!0x1:_0x1a8582=!0x1));}_0x3ad47b[_0x27f9('0x7f')]&&_0x1a8582&&(_0x3ad47b[_0x27f9('0x7f')][_0x27f9('0x7e')]=null,_0x3ad47b[_0x27f9('0x7f')]=null),_0x3ad47b[_0x27f9('0x7e')]&&_0x472357&&(_0x3ad47b[_0x27f9('0x7e')][_0x27f9('0x7f')]=null,_0x3ad47b[_0x27f9('0x7e')]=null);}[_0x27f9('0x35')](_0x593e6a){for(const _0x448c92 of this[_0x27f9('0x11b')][_0x27f9('0x115')]()){if(_0x448c92==_0x593e6a||!_0x448c92['isInContent'])continue;if(_0x448c92[_0x27f9('0x10e')]!=_0x593e6a[_0x27f9('0x10e')]||_0x448c92[_0x27f9('0xc3')]['id']!=_0x593e6a[_0x27f9('0xc3')]['id']||_0x448c92[_0x27f9('0x10d')]!=_0x593e6a[_0x27f9('0x10d')])continue;const _0x506f05=this[_0x27f9('0xb6')][_0x27f9('0xc7')](_0x593e6a[_0x27f9('0x10e')],_0x593e6a[_0x27f9('0x10d')],'join');if(_0x506f05(_0x448c92[_0x27f9('0x7a')](),_0x593e6a[_0x27f9('0x7a')]())){if(_0x593e6a[_0x27f9('0x67')]&&_0x593e6a[_0x27f9('0x67')][_0x27f9('0xed')])continue;return this[_0x27f9('0xcd')](_0x448c92,_0x593e6a),!0x0;}if(_0x506f05(_0x593e6a[_0x27f9('0x7a')](),_0x448c92[_0x27f9('0x7a')]())){if(_0x448c92[_0x27f9('0x67')]&&_0x448c92[_0x27f9('0x67')][_0x27f9('0xed')])continue;return this[_0x27f9('0xcd')](_0x593e6a,_0x448c92),!0x0;}}return!0x1;}[_0x27f9('0xcd')](_0x5c056f,_0x3b4c10){if(_0x5c056f[_0x27f9('0xd4')])for(const _0x4492d4 of _0x3b4c10[_0x27f9('0x7a')]())_0x5c056f['addRange'](_0x4492d4);else{const _0x19ad48=_0x3b4c10[_0x27f9('0x36')]()[_0x27f9('0x50')];this[_0x27f9('0x52')](_0x5c056f,this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x5c056f[_0x27f9('0x36')]()[_0x27f9('0xa3')],_0x19ad48));}_0x3b4c10[_0x27f9('0xcf')]();}}_0x4b58ec(d,_0x4f6dcf);class dt{constructor(_0x5bd42d){this[_0x27f9('0xfb')]=_0x5bd42d,this['_model']=_0x5bd42d[_0x27f9('0x43')],this[_0x27f9('0x2b')]=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}[_0x27f9('0xf2')](_0x4ddb64,_0x4fe3e2,_0x3a4683,_0x2e1fd9,_0x33a70c){return new _0xfe1c55(this['_model'],{'type':_0x4ddb64,'subType':_0x4fe3e2,'id':_0x3a4683,'author':_0x2e1fd9,'onAttributesChange':_0x33a70c,'onAccept':(..._0x45fbb6)=>this[_0x27f9('0xc7')](_0x4ddb64,_0x4fe3e2,_0x27f9('0x42'))(..._0x45fbb6),'onDiscard':(..._0x3e17d1)=>this[_0x27f9('0xc7')](_0x4ddb64,_0x4fe3e2,_0x27f9('0x34'))(..._0x3e17d1)});}[_0x27f9('0x11c')](_0x20870b,_0x413547,_0x2f175f,_0x45a4ad){const _0xe07f96=_0x20870b+':'+_0x413547+':'+_0x2f175f;this['_customCallbacks'][_0x27f9('0xe9')](_0xe07f96,_0x45a4ad);}[_0x27f9('0xc7')](_0x1e1541,_0x21ef09,_0x3818db){const _0x54d98c=_0x1e1541+':'+_0x21ef09+':'+_0x3818db;return this[_0x27f9('0x2b')]['get'](_0x54d98c)||this[_0x27f9('0xb1')]['get'](_0x1e1541+':'+_0x3818db);}[_0x27f9('0xbb')](){const _0x308343=()=>{},_0x2a68fa=_0x292a2f=>{_0x292a2f[_0x27f9('0xcb')]((_0xa00211,_0x3226b0)=>_0xa00211[_0x27f9('0xa3')][_0x27f9('0xfa')](_0x3226b0[_0x27f9('0xa3')])?0x1:-0x1),this['_model'][_0x27f9('0x11d')](_0xa2692e=>{for(const _0x19c90b of _0x292a2f){let _0x1d5ecc;_0x1d5ecc=_0x19c90b[_0x27f9('0x50')][_0x27f9('0xe4')]&&_0x19c90b[_0x27f9('0x50')][_0x27f9('0x33')]==_0x19c90b[_0x27f9('0xa3')][_0x27f9('0x94')]?_0xa2692e[_0x27f9('0x129')](_0x19c90b[_0x27f9('0xa3')]['nodeAfter'],'on'):_0xa2692e['createSelection'](_0x19c90b),this[_0x27f9('0xd9')][_0x27f9('0xe0')](_0x1d5ecc,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x13497e=(_0x48ff5b,_0x477423)=>{this[_0x27f9('0xd9')][_0x27f9('0x11d')](_0x2ed2c5=>{const {commandName:_0x3f1e42,commandParams:_0x7c8563=[]}=_0x477423,_0x26496b=_0x48ff5b[0x0];if(_0x27f9('0xd3')==_0x26496b['root'][_0x27f9('0xca')])return;const _0x48efea=Array[_0x27f9('0x9c')](this[_0x27f9('0xd9')][_0x27f9('0x54')]['selection'][_0x27f9('0x7a')]())['map'](_0x15c89e=>_0xdaaa0f[_0x27f9('0x19')](_0x15c89e));kt(_0x26496b)?_0x2ed2c5['setSelection'](this[_0x27f9('0xd9')][_0x27f9('0x27')](_0x26496b[_0x27f9('0x50')])):_0x2ed2c5[_0x27f9('0xa7')](_0x26496b);for(const _0x559ffc of this[_0x27f9('0xfb')][_0x27f9('0x96')][_0x27f9('0x96')]())_0x559ffc[_0x27f9('0xee')]();_0x7c8563['push']({'forceDefaultExecution':!0x0}),this[_0x27f9('0xfb')][_0x27f9('0x6f')](_0x3f1e42,..._0x7c8563);const _0x2dfd23=_0x48efea['filter'](_0x2244de=>'$graveyard'!=_0x2244de[_0x27f9('0x109')][_0x27f9('0xca')]);_0x2dfd23['length']>0x0&&_0x2ed2c5[_0x27f9('0xa7')](_0x2dfd23);for(const _0x5d4d0c of _0x48efea)_0x5d4d0c[_0x27f9('0x9a')]();});},_0x408d8c=(_0x85c521,_0x5c1f1e)=>0x1==_0x85c521['length']&&0x1==_0x5c1f1e[_0x27f9('0xed')]&&_0x85c521[0x0][_0x27f9('0x50')][_0x27f9('0x8a')](_0x5c1f1e[0x0][_0x27f9('0xa3')]),_0x1f20a4=(_0x250a98,_0xc87d1f)=>It(_0x250a98,_0xc87d1f,this[_0x27f9('0xd9')])?[_0x250a98,_0xc87d1f]:It(_0xc87d1f,_0x250a98,this[_0x27f9('0xd9')])?[_0xc87d1f,_0x250a98]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x308343),this[_0x27f9('0xb1')][_0x27f9('0xe9')](_0x27f9('0x6b'),_0x2a68fa),this[_0x27f9('0xb1')][_0x27f9('0xe9')]('insertion:join',_0x408d8c),this['_defaultCallbacks'][_0x27f9('0xe9')](_0x27f9('0xb3'),_0x1f20a4),this[_0x27f9('0xb1')][_0x27f9('0xe9')](_0x27f9('0xc5'),_0x2a68fa),this['_defaultCallbacks'][_0x27f9('0xe9')]('deletion:discard',_0x308343),this['_defaultCallbacks'][_0x27f9('0xe9')](_0x27f9('0x2d'),_0x408d8c),this[_0x27f9('0xb1')][_0x27f9('0xe9')]('deletion:chain',_0x1f20a4),this[_0x27f9('0xb1')][_0x27f9('0xe9')](_0x27f9('0xeb'),_0x13497e),this[_0x27f9('0xb1')][_0x27f9('0xe9')]('formatInline:discard',_0x308343),this[_0x27f9('0xb1')]['set'](_0x27f9('0xdf'),_0x408d8c),this[_0x27f9('0xb1')][_0x27f9('0xe9')]('formatInline:chain',_0x308343),this[_0x27f9('0xb1')][_0x27f9('0xe9')](_0x27f9('0xfe'),_0x13497e),this[_0x27f9('0xb1')][_0x27f9('0xe9')](_0x27f9('0xce'),_0x308343),this[_0x27f9('0xb1')][_0x27f9('0xe9')]('formatBlock:join',_0x408d8c),this[_0x27f9('0xb1')][_0x27f9('0xe9')](_0x27f9('0x7c'),_0x308343);}}function pt(_0x53e4d8,_0x568c6a,_0x5e6e78){for(const _0x2912ad of _0x568c6a[_0x27f9('0x33')][_0x27f9('0x56')]({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x2912ad[_0x27f9('0x109')]==_0x2912ad)return!0x1;if(!_0x5e6e78[_0x27f9('0x5a')](_0x2912ad))return!0x1;if(_0x53e4d8['isObject'](_0x2912ad)||_0x53e4d8[_0x27f9('0x99')](_0x2912ad))return!0x0;}}function kt(_0x271dce){return _0x271dce[_0x27f9('0x50')][_0x27f9('0x33')]==_0x271dce[_0x27f9('0xa3')]['nodeAfter']&&_0x271dce['end'][_0x27f9('0x1d')];}function wt(_0x2071be,_0x4d9cb5,_0x4475cc,_0x322e8c){const _0x51eb78=_0x2de6b9=>!_0x2de6b9[_0x27f9('0xc2')]['is'](_0x27f9('0xc6'))&&!_0x322e8c[_0x27f9('0x12a')](_0x2de6b9[_0x27f9('0xc2')]),_0x15c57e=_0x2071be[_0x27f9('0xa3')]['getLastMatchingPosition'](_0x51eb78),_0x42d7d7=_0x2071be[_0x27f9('0x50')]['getLastMatchingPosition'](_0x51eb78,{'direction':'backward'});return(!_0x2071be['start'][_0x27f9('0x8a')](_0x15c57e)||!_0x2071be[_0x27f9('0x50')][_0x27f9('0x8a')](_0x42d7d7))&&(_0x15c57e[_0x27f9('0xfa')](_0x42d7d7)?_0x4475cc[_0x27f9('0x10f')](_0x4d9cb5,{'range':_0x4475cc[_0x27f9('0x27')](_0x15c57e,_0x42d7d7)}):_0x4475cc['removeMarker'](_0x4d9cb5),!0x0);}function yt(_0x167ea7){return _0x437ad9(_0x167ea7);}function bt(_0x79d862){const _0x41a0c7=_0x79d862[_0x27f9('0xa3')][_0x27f9('0x94')];return _0x41a0c7&&_0x41a0c7['is'](_0x27f9('0x114'));}function St(_0x30380e,_0x5237a9){const _0x3188e2=_0x5237a9[_0x27f9('0x85')]['isObject'](_0x30380e)||_0x5237a9[_0x27f9('0x85')][_0x27f9('0xd6')](_0x30380e);return _0x5237a9[_0x27f9('0x27')](_0x5237a9[_0x27f9('0xf6')](_0x30380e,_0x27f9('0x58')),_0x3188e2?_0x5237a9[_0x27f9('0x111')](_0x30380e):_0x5237a9[_0x27f9('0xf6')](_0x30380e,'end'));}function It(_0x18edc1,_0x2899c6,_0x29d54f){const _0x3b4a4f=_0x18edc1[_0x27f9('0x36')](),_0x4983e3=_0x2899c6[_0x27f9('0x36')]();if(_0x3b4a4f[_0x27f9('0x50')][_0x27f9('0x8a')](_0x4983e3[_0x27f9('0xa3')]))return!0x0;if(_0x18edc1[_0x27f9('0x10e')]!=_0x2899c6[_0x27f9('0x10e')])return!0x1;if(!_0x3b4a4f[_0x27f9('0x50')][_0x27f9('0x10')](_0x4983e3[_0x27f9('0xa3')]))return!0x1;const _0x301ff4=_0x29d54f[_0x27f9('0x27')](_0x3b4a4f[_0x27f9('0x50')],_0x4983e3[_0x27f9('0xa3')])[_0x27f9('0xb5')]();for(const _0x210f39 of _0x301ff4)if([_0x27f9('0x5f'),'elementEnd'][_0x27f9('0xf7')](_0x210f39['type'])&&_0x29d54f[_0x27f9('0x85')]['isLimit'](_0x210f39['item']))return!0x1;return!0x0;}