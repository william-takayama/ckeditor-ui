/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1c5a=['ck-suggestion-marker-split','high','TrackChangesEditing','plugins','start','hasClass','detach','init','createRange','change','model','enter','selection','end','nextSibling','split','downcastDispatcher','writer','parent','setSelection','mapper','fromRange','get','schema','showSuggestionHighlights','document','getFirstPosition','markInsertion','editing','removeMarker:suggestion:insertion','editor','createPositionAt','remove','addMarker:suggestion:insertion','data'];(function(_0xcf7cd6,_0x1c5a90){const _0x2e62c7=function(_0x5cb0d0){while(--_0x5cb0d0){_0xcf7cd6['push'](_0xcf7cd6['shift']());}};_0x2e62c7(++_0x1c5a90);}(_0x1c5a,0x9a));const _0x2e62=function(_0xcf7cd6,_0x1c5a90){_0xcf7cd6=_0xcf7cd6-0x0;let _0x2e62c7=_0x1c5a[_0xcf7cd6];return _0x2e62c7;};import{Plugin as _0x32ea4b}from'ckeditor5/src/core';import{Enter as _0x51d6d}from'ckeditor5/src/enter';import{LiveRange as _0xc5830c}from'ckeditor5/src/engine';import{downcastSplitMergeMarker as _0xaaa306}from'./utils';export default class q extends _0x32ea4b{static get['requires'](){return[_0x51d6d];}[_0x2e62('0x1c')](){const _0x24045e=this[_0x2e62('0x10')],_0xd7e771=_0x24045e[_0x2e62('0x18')][_0x2e62('0x8')](_0x2e62('0x17'));_0xd7e771['enableCommand'](_0x2e62('0x20'),_0x18183f=>{_0x24045e[_0x2e62('0x1f')][_0x2e62('0x1e')](_0x4f829f=>{const _0x3eef28=_0x24045e[_0x2e62('0x1f')][_0x2e62('0xb')][_0x2e62('0x21')],_0x1765d9=_0x3eef28[_0x2e62('0xc')](),_0x1a2b0c=_0x3eef28['isCollapsed'],_0x1556a5=_0xc5830c[_0x2e62('0x7')](_0x3eef28['getFirstRange']()),_0x2d356b=_0x1556a5[_0x2e62('0x19')][_0x2e62('0x4')],_0x46a90b=_0x1556a5['end'][_0x2e62('0x4')],_0x1e5da1=!(_0x1556a5[_0x2e62('0x19')]['isAtStart']&&_0x1556a5[_0x2e62('0x22')]['isAtEnd']),_0x471107=_0x2d356b==_0x46a90b,_0x16e311=!(_0x24045e['model']['schema']['isLimit'](_0x2d356b)||_0x24045e[_0x2e62('0x1f')][_0x2e62('0x9')]['isLimit'](_0x46a90b))&&(_0x1a2b0c||_0x1e5da1&&_0x471107);if(_0x18183f(),_0x16e311){const _0x326dd2=_0x24045e[_0x2e62('0x1f')][_0x2e62('0x11')](_0x1765d9[_0x2e62('0x4')][_0x2e62('0x0')],0x0),_0x1a1a31=_0x4f829f[_0x2e62('0x1d')](_0x1765d9,_0x326dd2);_0xd7e771[_0x2e62('0xd')](_0x1a1a31);}else _0x4f829f[_0x2e62('0x5')](_0x4f829f[_0x2e62('0x1d')](_0x1556a5[_0x2e62('0x22')]));_0x1556a5[_0x2e62('0x1b')]();});}),_0x24045e[_0x2e62('0xe')]['downcastDispatcher']['on'](_0x2e62('0x13'),_0xaaa306(_0x24045e,_0x2e62('0x1')),{'priority':'high'}),_0x24045e[_0x2e62('0xe')][_0x2e62('0x2')]['on'](_0x2e62('0xf'),(_0x490ece,_0x53783b,_0x6e3a83)=>{const _0x405655=_0x6e3a83[_0x2e62('0x6')]['markerNameToElements'](_0x53783b['markerName']);if(_0x405655)for(const _0x336ddf of _0x405655)_0x336ddf[_0x2e62('0x1a')](_0x2e62('0x15'))&&(_0x6e3a83['mapper']['unbindElementFromMarkerName'](_0x336ddf,_0x53783b['markerName']),_0x6e3a83[_0x2e62('0x3')][_0x2e62('0x12')](_0x336ddf));},{'priority':_0x2e62('0x16')}),_0x24045e[_0x2e62('0x14')][_0x2e62('0x2')]['on']('addMarker:suggestion:insertion',(_0x37cdb3,_0x2d83e8,_0x5aa671)=>{_0x5aa671['options'][_0x2e62('0xa')]&&_0xaaa306(_0x24045e,_0x2e62('0x1'),{'showActiveMarker':!0x1})(_0x37cdb3,_0x2d83e8,_0x5aa671);},{'priority':_0x2e62('0x16')});}}