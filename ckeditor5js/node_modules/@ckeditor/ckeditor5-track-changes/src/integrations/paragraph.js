/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x363e=['toViewPosition','showSuggestionHighlights','ELEMENT_PARAGRAPH','afterInit','document','options','model','writer','registerElementLabel','TrackChangesEditing','isObject','end','locale','editing','editor','isBlock','nodeAfter','getItemLabel','mapper','parent','filter','span','registerDescriptionCallback','_descriptionFactory','has','paragraph','from','data','*Change\x20to:*\x20%0','ck-suggestion-marker--active','*Insert:*\x20%0','addMarker:suggestion:insertion','blockName','selection','name','consumable','commandName','bindElementToMarker','change','markerRange','consume','$text','markerName','type','includes','markBlockFormat','checkChild','plugins','insertion','schema','isLimit','get'];(function(_0x495e0f,_0x363ef3){const _0x47709c=function(_0x13942a){while(--_0x13942a){_0x495e0f['push'](_0x495e0f['shift']());}};_0x47709c(++_0x363ef3);}(_0x363e,0x198));const _0x4770=function(_0x495e0f,_0x363ef3){_0x495e0f=_0x495e0f-0x0;let _0x47709c=_0x363e[_0x495e0f];return _0x47709c;};import{Plugin as _0x1dfd0c}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0x22e13f}from'./utils';import{getTranslation as _0x127b90}from'../utils/common-translations';export default class nt extends _0x1dfd0c{[_0x4770('0xb')](){const _0x522267=this[_0x4770('0x16')];if(!_0x522267[_0x4770('0x3')][_0x4770('0x20')]('Paragraph'))return;const _0x2c2d81=_0x522267[_0x4770('0x14')],_0x9110e1=_0x522267[_0x4770('0x3')][_0x4770('0x7')](_0x4770('0x11'));_0x9110e1[_0x4770('0x1f')][_0x4770('0x10')](_0x4770('0x21'),_0x24cc6a=>_0x127b90(_0x2c2d81,'ELEMENT_PARAGRAPH',_0x24cc6a)),_0x9110e1['enableCommand'](_0x4770('0x21'),(_0x3dedf1,_0x520155={})=>{const _0x22143b=_0x522267[_0x4770('0xe')][_0x4770('0xc')],_0x5d387f=_0x520155[_0x4770('0x29')]||_0x22143b[_0x4770('0x29')],_0x5df525=Array[_0x4770('0x22')](_0x5d387f['getSelectedBlocks']())[_0x4770('0x1c')](_0x5a4a95=>function(_0x1de454,_0x3c2a9e){return _0x3c2a9e[_0x4770('0x2')](_0x1de454[_0x4770('0x1b')],'paragraph')&&!_0x3c2a9e[_0x4770('0x12')](_0x1de454)&&_0x4770('0x21')!=_0x1de454[_0x4770('0x2a')];}(_0x5a4a95,this[_0x4770('0x16')]['model'][_0x4770('0x5')]));_0x522267[_0x4770('0xe')][_0x4770('0x2e')](()=>{for(const _0xa7244c of _0x5df525)_0x9110e1[_0x4770('0x1')](_0xa7244c,{'commandName':_0x4770('0x21'),'commandParams':[],'formatGroupId':_0x4770('0x28')},_0x22e13f(_0xa7244c));});}),_0x9110e1['_descriptionFactory'][_0x4770('0x1e')](_0x4449aa=>{const {data:_0x24aeb2}=_0x4449aa;if(_0x24aeb2&&_0x4770('0x21')==_0x24aeb2[_0x4770('0x2c')])return{'type':'format','content':_0x127b90(_0x2c2d81,_0x4770('0x24'),_0x127b90(_0x2c2d81,_0x4770('0xa')))};}),_0x9110e1['enableCommand']('insertParagraph'),_0x522267[_0x4770('0x15')]['downcastDispatcher']['on'](_0x4770('0x27'),tr(_0x522267),{'priority':'highest'}),_0x522267[_0x4770('0x23')]['downcastDispatcher']['on'](_0x4770('0x27'),(_0x278e36,_0x4050b8,_0xc9ce5e)=>{_0xc9ce5e[_0x4770('0xd')][_0x4770('0x9')]&&tr(_0x522267,{'showActiveMarker':!0x1})(_0x278e36,_0x4050b8,_0xc9ce5e);},{'priority':'highest'});const _0x32e3c5=_0x9110e1[_0x4770('0x1f')];_0x32e3c5['registerDescriptionCallback'](_0x42aeb2=>{if(_0x4770('0x4')!==_0x42aeb2[_0x4770('0x33')])return;const {start:_0x4a2bdf,end:_0x322666}=_0x42aeb2['getFirstRange']();if(!_0x4a2bdf['isTouching'](_0x322666)||!_0x4a2bdf[_0x4770('0x18')])return;const _0x55b84c=_0x522267[_0x4770('0xe')]['schema'],_0x5c94c6=_0x4a2bdf[_0x4770('0x18')];return _0x55b84c[_0x4770('0x17')](_0x5c94c6)&&!_0x55b84c['isLimit'](_0x5c94c6)&&_0x55b84c[_0x4770('0x2')](_0x5c94c6,_0x4770('0x31'))?{'type':'insertion','content':_0x127b90(_0x2c2d81,_0x4770('0x26'),_0x32e3c5[_0x4770('0x19')](_0x5c94c6[_0x4770('0x2a')],0x1))}:void 0x0;});}}function tr(_0x95242e,{showActiveMarker:_0x48f827=!0x0}={}){return(_0x231ac1,_0xe33b34,_0x2144fd)=>{const _0x74cdee=_0x95242e[_0x4770('0x3')]['get'](_0x4770('0x11')),_0x40d60e=_0xe33b34[_0x4770('0x2f')]['start'],_0x5c6a73=_0xe33b34[_0x4770('0x2f')][_0x4770('0x13')],_0x4c6d24=_0x95242e['model'][_0x4770('0x5')];if(!_0x40d60e['isTouching'](_0x5c6a73)||!_0x40d60e[_0x4770('0x18')])return;const _0x1dc545=_0x40d60e[_0x4770('0x18')];if(_0x4c6d24[_0x4770('0x17')](_0x1dc545)&&!_0x4c6d24[_0x4770('0x6')](_0x1dc545)&&_0x4c6d24[_0x4770('0x2')](_0x1dc545,_0x4770('0x31'))){if(!_0x2144fd[_0x4770('0x2b')][_0x4770('0x30')](_0xe33b34[_0x4770('0x2f')],_0x231ac1[_0x4770('0x2a')]))return;const _0x589bd4=_0x2144fd[_0x4770('0xf')]['createUIElement'](_0x4770('0x1d'),{'class':'ck-suggestion-marker-split'}),_0x317bbb=_0x2144fd[_0x4770('0x1a')][_0x4770('0x8')](_0x5c6a73);_0x48f827&&_0x74cdee['activeMarkers'][_0x4770('0x0')](_0xe33b34[_0x4770('0x32')])&&_0x2144fd['writer']['addClass'](_0x4770('0x25'),_0x589bd4),_0x2144fd[_0x4770('0xf')]['insert'](_0x317bbb,_0x589bd4),_0x2144fd['mapper'][_0x4770('0x2d')](_0x589bd4,_0xe33b34[_0x4770('0x32')]);}};}