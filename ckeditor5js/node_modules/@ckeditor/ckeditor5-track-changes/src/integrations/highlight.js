/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3f92=['item','*Set\x20highlight:*\x20%0','toLowerCase','commandName','find','FORMAT_HIGHLIGHT','getRanges','color','_descriptionFactory','document','title','TrackChangesEditing','value','backward','getLastMatchingPosition','has','config','HighlightEditing','change','formatInline','locale','getFirstPosition','model','isCollapsed','plugins','highlight','editor','*Remove\x20highlight*','createRange','selection','getAttribute','format'];(function(_0x325e9b,_0x3f9219){const _0x670ac7=function(_0x2e63f2){while(--_0x2e63f2){_0x325e9b['push'](_0x325e9b['shift']());}};_0x670ac7(++_0x3f9219);}(_0x3f92,0x137));const _0x670a=function(_0x325e9b,_0x3f9219){_0x325e9b=_0x325e9b-0x0;let _0x670ac7=_0x3f92[_0x325e9b];return _0x670ac7;};import{Plugin as _0x1f7d8e}from'ckeditor5/src/core';import{getTranslation as _0x3da83f}from'../utils/common-translations';import{getRangesWithAttribute as _0xf8fd19}from'./utils';export default class z extends _0x1f7d8e{['afterInit'](){const _0xe48f7f=this[_0x670a('0x3')];if(!_0xe48f7f['plugins'][_0x670a('0x18')](_0x670a('0x1a')))return;const _0xe72232=_0xe48f7f[_0x670a('0x1')]['get'](_0x670a('0x14'));_0xe72232['enableCommand']('highlight',(_0x472c4e,_0x12bc0b={})=>{const _0x29c4b5=_0xe48f7f[_0x670a('0x1f')][_0x670a('0x12')][_0x670a('0x6')],_0x461f16=_0x29c4b5[_0x670a('0x7')](_0x670a('0x2'));let _0x47f441=_0x12bc0b[_0x670a('0x15')],_0x48f89b=[];if(_0x29c4b5[_0x670a('0x0')]){const _0x54cb71=_0x29c4b5[_0x670a('0x1e')]();if(!_0x29c4b5['hasAttribute']('highlight'))return void _0x472c4e(_0x12bc0b);{const _0x4b717b=_0x18a11a=>_0x18a11a[_0x670a('0x9')]['getAttribute']('highlight')===_0x461f16,_0x649fe7=_0x54cb71['getLastMatchingPosition'](_0x4b717b,{'direction':_0x670a('0x16')}),_0x188dd2=_0x54cb71[_0x670a('0x17')](_0x4b717b);_0x48f89b=[_0xe48f7f[_0x670a('0x1f')][_0x670a('0x5')](_0x649fe7,_0x188dd2)],_0x47f441==_0x461f16&&(_0x47f441=null);}}else for(const _0x5c2e5f of _0x29c4b5[_0x670a('0xf')]())_0x47f441?_0x48f89b['push'](_0x5c2e5f):_0x48f89b['push'](..._0xf8fd19(_0x670a('0x2'),_0x5c2e5f,_0xe48f7f[_0x670a('0x1f')]));_0xe48f7f['model'][_0x670a('0x1b')](()=>{for(const _0x4f2b9f of _0x48f89b)_0xe72232['markInlineFormat'](_0x4f2b9f,{'commandName':_0x670a('0x2'),'commandParams':[{'value':_0x47f441}]});});});const _0x46db48=_0xe48f7f[_0x670a('0x1d')];_0xe72232[_0x670a('0x11')]['registerDescriptionCallback'](_0x479008=>{const {type:_0xc5ae1a,data:_0x555b49}=_0x479008;if(_0x670a('0x1c')==_0xc5ae1a&&_0x555b49&&_0x670a('0x2')==_0x555b49[_0x670a('0xc')]){const _0x4f924b=_0x555b49['commandParams'][0x0][_0x670a('0x15')];if(_0x4f924b){const _0x65d5e1=_0xe48f7f[_0x670a('0x19')]['get']('highlight.options')[_0x670a('0xd')](_0x51b497=>_0x51b497[_0x670a('0x1f')]==_0x4f924b),_0x1d28a2=_0x46db48['_t'](_0x65d5e1[_0x670a('0x13')])[_0x670a('0xb')]();return{'type':_0x670a('0x8'),'content':_0x3da83f(_0x46db48,_0x670a('0xa'),_0x1d28a2),'color':{'value':_0x65d5e1[_0x670a('0x10')],'title':_0x65d5e1[_0x670a('0x13')]}};}return{'type':_0x670a('0x8'),'content':_0x3da83f(_0x46db48,_0x670a('0x4'),_0x3da83f(_0x46db48,_0x670a('0xe')))};}});}}