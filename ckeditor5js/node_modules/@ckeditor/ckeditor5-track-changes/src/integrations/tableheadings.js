/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2a15=['start','forceValue','requires','commandParams','markerRange','change','addClass','value','data','highest','FORMAT_HEADER_COLUMN','item','selection','isBefore','document','stop','_splitMarkerName','options','name','registerDescriptionCallback','headingRows','formatBlock','FORMAT_HEADER_ROW','TableUtils','createRange','getChild','end','markerNameToElements','showSuggestionHighlights','last','locale','setTableRowHeader','unbindElementFromMarkerName','nodeAfter','toViewElement','first','downcastDispatcher','ck-suggestion-marker-','editing','createPositionBefore','commandName','_acceptFormatSuggestionCallbackFactory','_suggestionFactory','enableCommand','createTableWalker','markBlockFormat','mapper','FORMAT_REGULAR_ROW','*Format:*\x20%0','TrackChangesEditing','setAttribute','cell','commands','has','markerName','createPositionAfter','writer','accept','findAncestor','headingColumns','parent','childCount','getSuggestion','ck-suggestion-marker--active','get','getCellLocation','setTableColumnHeader','model','registerCustomCallback','removeClass','getSelectionAffectedTableCells','consumable','bindElementToMarker','plugins','format'];(function(_0x261d99,_0x2a157b){const _0x50a1d9=function(_0x313b39){while(--_0x313b39){_0x261d99['push'](_0x261d99['shift']());}};_0x50a1d9(++_0x2a157b);}(_0x2a15,0x104));const _0x50a1=function(_0x261d99,_0x2a157b){_0x261d99=_0x261d99-0x0;let _0x50a1d9=_0x2a15[_0x261d99];return _0x50a1d9;};import{Plugin as _0x1b6de9}from'ckeditor5/src/core';import _0x538f45 from'./table';import{getTranslation as _0x4240f4}from'../utils/common-translations';export default class ut extends _0x1b6de9{static get[_0x50a1('0x2a')](){return[_0x538f45];}['afterInit'](){const _0x421188=this['editor'];if(!_0x421188['plugins'][_0x50a1('0x12')]('TableEditing'))return;const _0x22416d=_0x421188[_0x50a1('0x46')],_0x550f57=_0x421188[_0x50a1('0x26')][_0x50a1('0x1d')](_0x50a1('0xe')),_0x40ad59=_0x421188['plugins']['get'](_0x50a1('0x3f')),_0x12b2c0=_0x421188['plugins']['get'](_0x538f45);function _0x15bacd({showActiveMarker:_0x2e9093=!0x0,setDataAttribute:_0x5410db=!0x0}={}){return(_0x3af62f,_0xaca5d0,_0x2686b8)=>{const {type:_0x3d138b,id:_0x5d2060}=_0x550f57[_0x50a1('0x38')](_0xaca5d0[_0x50a1('0x13')]),_0x385100=_0x550f57['getSuggestion'](_0x5d2060);if(!_0x385100[_0x50a1('0x30')]||_0x50a1('0x1f')!=_0x385100[_0x50a1('0x30')][_0x50a1('0x5')])return;if(_0xaca5d0[_0x50a1('0x33')])return void _0x3af62f[_0x50a1('0x37')]();if(!_0x2686b8[_0x50a1('0x24')]['consume'](_0xaca5d0[_0x50a1('0x2c')],_0x3af62f[_0x50a1('0x3a')]))return;const _0x327d3f=_0xaca5d0[_0x50a1('0x2c')][_0x50a1('0x28')][_0x50a1('0x49')],_0x2c02cc=_0xaca5d0[_0x50a1('0x2c')][_0x50a1('0x42')]['nodeBefore'],_0x1b9ccc=_0x327d3f[_0x50a1('0x19')]['parent'],{column:_0x2d2205}=_0x40ad59[_0x50a1('0x1e')](_0x327d3f),{column:_0x555af4}=_0x40ad59[_0x50a1('0x1e')](_0x2c02cc);for(let _0xbd31ae=_0x2d2205;_0xbd31ae<=_0x555af4;_0xbd31ae++){const _0x107efe=_0x40ad59['createTableWalker'](_0x1b9ccc,{'column':_0xbd31ae,'includeAllSlots':!0x1});for(const _0x94dff6 of _0x107efe){const _0x18c438=_0x94dff6[_0x50a1('0x10')],_0x2a6336=_0x2686b8['mapper'][_0x50a1('0x4a')](_0x18c438);_0x2686b8[_0x50a1('0x15')][_0x50a1('0x2e')](_0x50a1('0x2')+_0x3d138b,_0x2a6336),_0x5410db&&_0x2686b8[_0x50a1('0x15')][_0x50a1('0xf')]('data-suggestion',_0x5d2060,_0x2a6336),_0x2686b8[_0x50a1('0xb')][_0x50a1('0x25')](_0x2a6336,_0xaca5d0[_0x50a1('0x13')]),_0x2e9093&&(_0x550f57['activeMarkers']['includes'](_0xaca5d0['markerName'])?_0x2686b8['writer'][_0x50a1('0x2e')](_0x50a1('0x1c'),_0x2a6336):_0x2686b8[_0x50a1('0x15')][_0x50a1('0x22')]('ck-suggestion-marker--active',_0x2a6336));}}};}_0x550f57[_0x50a1('0x8')]('setTableRowHeader',(_0xaa7bf0,_0x3098f0)=>{const _0x46d8e9=_0x40ad59[_0x50a1('0x23')](_0x421188[_0x50a1('0x20')][_0x50a1('0x36')][_0x50a1('0x34')]),_0x1edfe4=_0x40ad59['getRowIndexes'](_0x46d8e9),_0x5cfb65=_0x46d8e9[0x0][_0x50a1('0x17')]('table'),_0x314ab0=_0x5cfb65['getAttribute'](_0x50a1('0x3c'))||0x0,_0x50868d=_0x3098f0&&null!==_0x3098f0['forceValue']?_0x3098f0['forceValue']:!_0x421188[_0x50a1('0x11')][_0x50a1('0x1d')](_0x50a1('0x47'))[_0x50a1('0x2f')],_0x4476ef=_0x50868d?_0x1edfe4[_0x50a1('0x45')]:_0x1edfe4[_0x50a1('0x0')],_0x5e3e2b=_0x5cfb65[_0x50a1('0x41')](_0x4476ef);let _0x4b0d75;if(_0x50868d){const _0x365cbd=_0x5cfb65[_0x50a1('0x41')](_0x314ab0);if(_0x5e3e2b['index']<_0x365cbd['index'])return;_0x4b0d75=_0x421188[_0x50a1('0x20')][_0x50a1('0x40')](_0x421188['model'][_0x50a1('0x4')](_0x365cbd[_0x50a1('0x41')](0x0)),_0x421188[_0x50a1('0x20')][_0x50a1('0x14')](_0x5e3e2b[_0x50a1('0x41')](_0x5e3e2b[_0x50a1('0x1a')]-0x1)));}else{const _0x54486f=_0x5cfb65[_0x50a1('0x41')](_0x314ab0-0x1);if(!_0x54486f)return;_0x4b0d75=_0x421188['model'][_0x50a1('0x40')](_0x421188[_0x50a1('0x20')][_0x50a1('0x4')](_0x5e3e2b['getChild'](0x0)),_0x421188[_0x50a1('0x20')][_0x50a1('0x14')](_0x54486f[_0x50a1('0x41')](_0x54486f['childCount']-0x1)));}_0x421188[_0x50a1('0x20')][_0x50a1('0x2d')](()=>{_0x550f57[_0x50a1('0xa')](_0x4b0d75,{'commandName':_0x50a1('0x47'),'commandParams':[{'forceValue':_0x50868d}]},[],_0x50a1('0x47'));});}),_0x550f57[_0x50a1('0x8')](_0x50a1('0x1f'),(_0xe9cd15,_0x57cd20)=>{const _0x3793b4=_0x421188[_0x50a1('0x26')][_0x50a1('0x1d')](_0x50a1('0x3f')),_0x49af97=_0x3793b4['getSelectionAffectedTableCells'](_0x421188[_0x50a1('0x20')][_0x50a1('0x36')][_0x50a1('0x34')]),_0x3fa5a0=_0x3793b4['getColumnIndexes'](_0x49af97),_0x3b6133=_0x49af97[0x0]['findAncestor']('table'),_0x4f7693=_0x3b6133['getAttribute'](_0x50a1('0x18'))||0x0,_0x488418=_0x57cd20&&null!==_0x57cd20['forceValue']?_0x57cd20[_0x50a1('0x29')]:!_0x421188[_0x50a1('0x11')][_0x50a1('0x1d')]('setTableColumnHeader')[_0x50a1('0x2f')];let _0x19d1aa;const _0x2771f8=_0x3b6133['getChild'](0x0),_0x588040=_0x488418?_0x3fa5a0[_0x50a1('0x45')]:_0x3fa5a0[_0x50a1('0x0')],_0x3a9672=_0x3793b4[_0x50a1('0x9')](_0x3b6133,{'startRow':0x0,'column':_0x588040,'includeAllSlots':!0x1}),_0x4abf9a=Array['from'](_0x3a9672)[0x0]['cell'];if(_0x488418){const _0x14120a=_0x2771f8[_0x50a1('0x41')](_0x4f7693);if(_0x4abf9a[_0x50a1('0x35')](_0x14120a))return;_0x19d1aa=_0x421188[_0x50a1('0x20')][_0x50a1('0x40')](_0x421188[_0x50a1('0x20')]['createPositionBefore'](_0x14120a),_0x421188[_0x50a1('0x20')][_0x50a1('0x14')](_0x4abf9a));}else{const _0x5655ab=_0x2771f8[_0x50a1('0x41')](_0x4f7693-0x1);if(!_0x5655ab)return;_0x19d1aa=_0x421188[_0x50a1('0x20')][_0x50a1('0x40')](_0x421188['model']['createPositionBefore'](_0x4abf9a),_0x421188[_0x50a1('0x20')]['createPositionAfter'](_0x5655ab));}_0x421188['model'][_0x50a1('0x2d')](()=>{_0x550f57['markBlockFormat'](_0x19d1aa,{'commandName':_0x50a1('0x1f'),'commandParams':[{'forceValue':_0x488418}]},[],'setTableColumnHeader');});}),_0x421188[_0x50a1('0x3')][_0x50a1('0x1')]['on']('addMarker:suggestion',_0x15bacd(),{'priority':_0x50a1('0x31')}),_0x421188['data'][_0x50a1('0x1')]['on']('addMarker:suggestion',(_0x575057,_0x24c942,_0x50fceb)=>{_0x50fceb[_0x50a1('0x39')][_0x50a1('0x44')]&&_0x15bacd({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x575057,_0x24c942,_0x50fceb);},{'priority':_0x50a1('0x31')}),_0x421188[_0x50a1('0x3')][_0x50a1('0x1')]['on']('removeMarker:suggestion',(_0x94da9f,_0x171991,_0x41c956)=>{const {type:_0x5455be,id:_0x33805e}=_0x550f57[_0x50a1('0x38')](_0x171991[_0x50a1('0x13')]),_0x20bf89=_0x550f57[_0x50a1('0x1b')](_0x33805e);if(!_0x20bf89['data']||'setTableColumnHeader'!=_0x20bf89[_0x50a1('0x30')][_0x50a1('0x5')])return;const _0x2dc529=_0x41c956['mapper'][_0x50a1('0x43')](_0x171991['markerName']);if(_0x2dc529)for(const _0x2766ee of _0x2dc529)_0x41c956[_0x50a1('0x15')][_0x50a1('0x22')]('ck-suggestion-marker-'+_0x5455be,_0x2766ee),_0x41c956[_0x50a1('0x15')][_0x50a1('0x22')](_0x50a1('0x1c'),_0x2766ee),_0x41c956['writer']['removeAttribute']('data-suggestion',_0x2766ee),_0x41c956[_0x50a1('0xb')][_0x50a1('0x48')](_0x2766ee,_0x171991[_0x50a1('0x13')]);},{'priority':_0x50a1('0x31')}),_0x550f57['_descriptionFactory'][_0x50a1('0x3b')](_0x2505f6=>{const {data:_0x552d4c}=_0x2505f6;if(_0x552d4c){if(_0x50a1('0x47')==_0x552d4c[_0x50a1('0x5')]){const _0x43ea7d=_0x552d4c['commandParams'][0x0][_0x50a1('0x29')];return _0x5400c5(_0x4240f4(_0x22416d,_0x43ea7d?_0x50a1('0x3e'):_0x50a1('0xc')));}if(_0x50a1('0x1f')==_0x552d4c[_0x50a1('0x5')]){const _0x14c06b=_0x552d4c[_0x50a1('0x2b')][0x0]['forceValue'];return _0x5400c5(_0x4240f4(_0x22416d,_0x14c06b?_0x50a1('0x32'):'FORMAT_REGULAR_COLUMN'));}}function _0x5400c5(_0x5bd19d){return{'type':_0x50a1('0x27'),'content':_0x4240f4(_0x22416d,_0x50a1('0xd'),_0x5bd19d)};}});const _0x5a667c=_0x12b2c0[_0x50a1('0x6')]();_0x550f57[_0x50a1('0x7')][_0x50a1('0x21')](_0x50a1('0x3d'),_0x50a1('0x47'),'accept',_0x5a667c),_0x550f57['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x50a1('0x1f'),_0x50a1('0x16'),_0x5a667c);}}