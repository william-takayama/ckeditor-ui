/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x31bd=['set','element','_config','_model','switchToDisplayMode','bind','add','focus','remove','visibleView','disabledSubmit','isEditMode','once','destroy','content','_createCommentContentView','submit','editorReady','get','_createCommentInputView','expand','locale','value','updateComment','fire','initialData','editorConfig','isCollapsed','switchToEditMode'];(function(_0x5bd955,_0x31bda6){const _0x189bd4=function(_0x553ba4){while(--_0x553ba4){_0x5bd955['push'](_0x5bd955['shift']());}};_0x189bd4(++_0x31bda6);}(_0x31bd,0x1e6));const _0x189b=function(_0x5bd955,_0x31bda6){_0x5bd955=_0x5bd955-0x0;let _0x189bd4=_0x31bd[_0x5bd955];return _0x189bd4;};import{View as _0x27aa98}from'ckeditor5/src/ui';import{trimHtml as _0x397025}from'ckeditor5-collaboration/src/collaboration-core';import _0x5c1987 from'./commentcontentview';import _0x6a1e0c from'./commentinputview';export default class Vt extends _0x27aa98{constructor(_0x4f2959,_0x1f8167,_0x57c1cb){super(_0x4f2959),this[_0x189b('0xa')]=_0x1f8167,this[_0x189b('0x9')]=_0x57c1cb,this[_0x189b('0x7')](_0x189b('0x12'),!0x1),this[_0x189b('0x7')](_0x189b('0x5'),!0x0),this['visibleView']=this['createCollection'](),this[_0x189b('0x10')]['add'](this['_createCommentContentView']());}[_0x189b('0x1b')](){this['isCollapsed']=!0x1;}['collapse'](){this['isEditMode']||(this[_0x189b('0x5')]=!0x0);}[_0x189b('0xe')](){this[_0x189b('0x8')][_0x189b('0xe')]();}async['destroy'](){await this[_0x189b('0x10')][_0x189b('0x19')](0x0)['destroy'](),super[_0x189b('0x14')]();}[_0x189b('0x6')](){this[_0x189b('0x12')]||(this['isEditMode']=!0x0,this[_0x189b('0x10')][_0x189b('0xf')](0x0)[_0x189b('0x14')](),this[_0x189b('0x10')][_0x189b('0xd')](this[_0x189b('0x1a')]()));}[_0x189b('0xb')](){this['isEditMode']&&(this[_0x189b('0x12')]=!0x1,this['visibleView'][_0x189b('0xf')](0x0)[_0x189b('0x14')](),this['visibleView']['add'](this[_0x189b('0x16')]()));}['_createCommentContentView'](){const _0x4ff205=new _0x5c1987(this[_0x189b('0x1c')]);return _0x4ff205['bind'](_0x189b('0x15'))['to'](this[_0x189b('0xa')],_0x189b('0x15'),this,'isCollapsed',(_0x2b2a3c,_0x502636)=>_0x502636?_0x397025(_0x2b2a3c,{'limit':this[_0x189b('0x9')]['maxCommentCharsWhenCollapsed']}):_0x2b2a3c),_0x4ff205;}[_0x189b('0x1a')](){this[_0x189b('0x9')][_0x189b('0x4')]||(this[_0x189b('0x9')][_0x189b('0x4')]={}),this['_config']['editorConfig'][_0x189b('0x3')]=this['_model'][_0x189b('0x15')];const _0x81360d=new _0x6a1e0c(this[_0x189b('0x1c')],this['_config'][_0x189b('0x4')]);return _0x81360d[_0x189b('0x0')]=this['_model']['content'],_0x81360d[_0x189b('0xc')](_0x189b('0x11'))['to'](this['_model'],'isReadOnly'),_0x81360d['on'](_0x189b('0x17'),(_0x3dca3e,_0x1f7cba)=>{this[_0x189b('0x2')](_0x189b('0x1'),this[_0x189b('0xa')]['id'],_0x1f7cba),this[_0x189b('0xb')](),this['focus']();}),_0x81360d['on']('cancel',()=>{this[_0x189b('0xb')](),this[_0x189b('0xe')]();}),_0x81360d[_0x189b('0x13')](_0x189b('0x18'),()=>{_0x81360d[_0x189b('0xe')]();}),_0x81360d;}}