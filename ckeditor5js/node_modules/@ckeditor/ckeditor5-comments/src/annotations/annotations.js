/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x45a5=['_visibleAnnotations','isVisible','listenTo','destroy','activeAnnotations','fire','add','has','_addActiveAnnotation','pluginName','change:isVisible','delete','_removeActiveAnnotation','stopListening','_activateAnnotation','collection','remove','getByInnerView','_bindAnnotationsToVisibleAnnotations','_deactivateAllAnnotations','activate'];(function(_0x5a6567,_0x45a5f9){const _0x1be08b=function(_0x5a20c5){while(--_0x5a20c5){_0x5a6567['push'](_0x5a6567['shift']());}};_0x1be08b(++_0x45a5f9);}(_0x45a5,0x1e0));const _0x1be0=function(_0x5a6567,_0x45a5f9){_0x5a6567=_0x5a6567-0x0;let _0x1be08b=_0x45a5[_0x5a6567];return _0x1be08b;};import{ContextPlugin as _0x1d1fe7}from'ckeditor5/src/core';import _0x32746a from'./annotation';import _0xbfdb26 from'./annotationcollection';import _0xa11573 from'./view/annotationview';export default class V extends _0x1d1fe7{static get[_0x1be0('0xc')](){return'Annotations';}constructor(_0x2f6f60){super(_0x2f6f60),this['collection']=new _0xbfdb26(),this[_0x1be0('0x3')]=new _0xbfdb26(),this['set'](_0x1be0('0x7'),new Set()),this[_0x1be0('0x0')]();}['add'](_0x3718f4){this[_0x1be0('0x12')]['add'](_0x3718f4);}[_0x1be0('0x13')](_0x237a81){this[_0x1be0('0x12')]['remove'](_0x237a81),_0x237a81[_0x1be0('0x6')]();}['refreshVisibility'](){for(const _0x354338 of this[_0x1be0('0x12')])_0x354338['refreshVisibility']();}['refreshPositioning'](){this[_0x1be0('0x3')]['refreshPositioning']();}['getByInnerView'](_0x1cd9fe){return this[_0x1be0('0x12')][_0x1be0('0x14')](_0x1cd9fe);}['deactivateAll'](){this['fire'](_0x1be0('0x1'));}['destroy'](){for(const _0x5be55a of this[_0x1be0('0x12')])_0x5be55a[_0x1be0('0x6')]();this[_0x1be0('0x3')]['destroy'](),this['collection'][_0x1be0('0x6')](),super[_0x1be0('0x6')]();}[_0x1be0('0x2')](_0x2fea11){this[_0x1be0('0x8')](_0x1be0('0x11'),_0x2fea11);}['createAnnotation'](_0x2b6f04){return new _0x32746a(_0x2b6f04);}['createAnnotationView'](_0x1385da,_0xb07c7d){return new _0xa11573(_0x1385da,_0xb07c7d);}[_0x1be0('0xb')](_0x353995){const _0xf8e3a6=new Set(this[_0x1be0('0x7')]);_0xf8e3a6[_0x1be0('0x9')](_0x353995),this[_0x1be0('0x7')]=_0xf8e3a6;}[_0x1be0('0xf')](_0x3a1753){const _0x4a83e4=new Set(this[_0x1be0('0x7')]);_0x4a83e4[_0x1be0('0xe')](_0x3a1753),this[_0x1be0('0x7')]=_0x4a83e4;}[_0x1be0('0x0')](){const _0x1ca9a6=this[_0x1be0('0x12')],_0x15eab0=this[_0x1be0('0x3')];function _0x37078d(_0x127730){const _0x338d91=_0x127730['source'];_0x338d91[_0x1be0('0x4')]&&!_0x15eab0[_0x1be0('0xa')](_0x338d91)?_0x15eab0['add'](_0x338d91):!_0x338d91[_0x1be0('0x4')]&&_0x15eab0[_0x1be0('0xa')](_0x338d91)&&_0x15eab0['remove'](_0x338d91);}this[_0x1be0('0x5')](_0x1ca9a6,_0x1be0('0x9'),(_0x5bb336,_0x5ed6fe)=>{_0x5ed6fe[_0x1be0('0x4')]&&_0x15eab0[_0x1be0('0x9')](_0x5ed6fe),this[_0x1be0('0x5')](_0x5ed6fe,_0x1be0('0xd'),_0x37078d);}),this[_0x1be0('0x5')](_0x1ca9a6,_0x1be0('0x13'),(_0x1a7d30,_0x2474a2)=>{_0x15eab0[_0x1be0('0xa')](_0x2474a2)&&_0x15eab0['remove'](_0x2474a2),this[_0x1be0('0x10')](_0x2474a2,_0x1be0('0xd'),_0x37078d);});}}