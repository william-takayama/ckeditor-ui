/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x402b=['focusableElements','mainView','isActive','_isTargetElementVisible','item','destroy','element','type','_target','function','set','_assertCorrectTarget','isVisible','remove','_type','refreshVisibility','render','targetRect','getClientRects','focusTracker','clear','target','annotation-invalid-target','add','view','stopListening'];(function(_0x281e52,_0x402b2f){const _0xeac67d=function(_0x12006e){while(--_0x12006e){_0x281e52['push'](_0x281e52['shift']());}};_0xeac67d(++_0x402b2f);}(_0x402b,0x10c));const _0xeac6=function(_0x281e52,_0x402b2f){_0x281e52=_0x281e52-0x0;let _0xeac67d=_0x402b[_0x281e52];return _0xeac67d;};import{CKEditorError as _0x109831,Rect as _0x66e9ca,Collection as _0x3c0d47,mix as _0x3d40d3,ObservableMixin as _0x2278aa}from'ckeditor5/src/utils';import{isElement as _0x29ba9f}from'lodash-es';export default class p{constructor({view:_0x6f6ed8,target:_0x5d0891,type:_0x31aefa,isVisible:_0x5f46c5=!0x0}){this[_0xeac6('0x10')]=_0x6f6ed8,this[_0xeac6('0x10')]['element']||this['view'][_0xeac6('0x8')](),this[_0xeac6('0x6')]=_0x31aefa,this[_0xeac6('0x0')]=_0x5d0891,this[_0xeac6('0x3')](),this[_0xeac6('0x12')]=new _0x3c0d47([this[_0xeac6('0x10')][_0xeac6('0x18')]],{'idProperty':'_id'}),this[_0xeac6('0x12')]['on'](_0xeac6('0xf'),(_0x29dc09,_0x384c89)=>{this[_0xeac6('0x10')][_0xeac6('0xb')][_0xeac6('0xf')](_0x384c89);}),this['focusableElements']['on'](_0xeac6('0x5'),(_0x462584,_0x236f04)=>{this[_0xeac6('0x10')]['focusTracker']['remove'](_0x236f04);}),this[_0xeac6('0x2')](_0xeac6('0x4'),_0x5f46c5);}get[_0xeac6('0x19')](){return _0xeac6('0x1')==typeof this[_0xeac6('0x6')]?this[_0xeac6('0x6')]():this[_0xeac6('0x6')];}get['innerView'](){return this[_0xeac6('0x10')][_0xeac6('0x13')];}get[_0xeac6('0xd')](){return'function'==typeof this[_0xeac6('0x0')]?this[_0xeac6('0x0')]():this[_0xeac6('0x0')];}get[_0xeac6('0x9')](){const _0x47daba=this[_0xeac6('0xd')];return this[_0xeac6('0x3')](),null!==_0x47daba&&this[_0xeac6('0x15')]()?new _0x66e9ca(_0x47daba):null;}get[_0xeac6('0x14')](){return this['view'][_0xeac6('0x14')];}set['isActive'](_0x406eac){this[_0xeac6('0x10')]['isActive']=_0x406eac,this[_0xeac6('0x10')][_0xeac6('0x13')][_0xeac6('0x14')]=_0x406eac;}['updateTargetRect'](){this[_0xeac6('0x10')][_0xeac6('0x9')]=this[_0xeac6('0x9')];}[_0xeac6('0x17')](){this[_0xeac6('0x12')][_0xeac6('0x11')](),this[_0xeac6('0x12')][_0xeac6('0xc')](),this[_0xeac6('0x11')]();}[_0xeac6('0x7')](){this[_0xeac6('0x4')]=this[_0xeac6('0x15')]();}['_isTargetElementVisible'](){const _0x5242d6=this['target'];if(_0x29ba9f(_0x5242d6)){const _0x3cf7c8=_0x5242d6[_0xeac6('0xa')]()[_0xeac6('0x16')](0x0),_0x1b6cc8=_0x5242d6['offsetParent'];if(!_0x3cf7c8||!_0x1b6cc8)return!0x1;}return!0x0;}[_0xeac6('0x3')](){const _0x19f18a=this[_0xeac6('0xd')];if(!(null===_0x19f18a||_0x19f18a instanceof _0x66e9ca||_0x29ba9f(_0x19f18a)))throw new _0x109831(_0xeac6('0xe'),null,{'target':_0x19f18a});}}_0x3d40d3(p,_0x2278aa);