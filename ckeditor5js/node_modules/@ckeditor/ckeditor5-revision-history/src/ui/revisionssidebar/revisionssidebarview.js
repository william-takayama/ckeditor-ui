/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xee15=['locale','selectRevision','delegate','remove','map','revisionSelected','unhighlight','_addRevision','removeRevision','ck-revision-history-sidebar','some','set','select','revisionViews','fire','createCollection','render','startDate','find','add','_revisionActions','setName','deselect','flat','bindTemplate','_revisions','revisionSetName','timePeriodViews','ck-reset','_removeRevision','_getTimePeriodViewByStartDate','div','getTime','get','ck-disabled','createdAt','isEnabled','addRevision'];(function(_0x22b212,_0xee15cf){const _0x6cf61f=function(_0x7e53df){while(--_0x7e53df){_0x22b212['push'](_0x22b212['shift']());}};_0x6cf61f(++_0xee15cf);}(_0xee15,0xf5));const _0x6cf6=function(_0x22b212,_0xee15cf){_0x22b212=_0x22b212-0x0;let _0x6cf61f=_0xee15[_0x22b212];return _0x6cf61f;};import{View as _0x5b57ad}from'ckeditor5/src/ui';import _0x450be1 from'./revisionssidebartimeperiodview';import _0xd6ff4d from'./revisionssidebarheaderview';import{getDateTimePeriodInfo as _0x2c8037}from'./utils';import'../../../theme/revisionssidebar/revisionssidebar.css';export default class vi extends _0x5b57ad{constructor(_0xe06c0f,_0x578ccd,_0x3725b6){super(_0xe06c0f);const _0x3bf61f=this[_0x6cf6('0x7')];this['timePeriodViews']=this[_0x6cf6('0x24')](),this[_0x6cf6('0xa')][_0x6cf6('0x17')](_0x6cf6('0x21'))['to'](this),this['timePeriodViews']['delegate']('setName')['to'](this),this[_0x6cf6('0x8')]=_0x578ccd,this[_0x6cf6('0x3')]=_0x3725b6,this['on'](_0x6cf6('0x21'),(_0xaab61c,_0x3f394d)=>{this['fire'](_0x6cf6('0x1a'),_0x3f394d);}),this['on'](_0x6cf6('0x4'),(_0x2f8c78,_0x3b62c4)=>{this[_0x6cf6('0x23')](_0x6cf6('0x9'),_0x3b62c4);}),this[_0x6cf6('0x20')](_0x6cf6('0x13'),!0x1),this['setTemplate']({'tag':_0x6cf6('0xe'),'attributes':{'class':['ck',_0x6cf6('0xb'),'ck-rounded-corners',_0x6cf6('0x1e')]},'children':[new _0xd6ff4d(_0xe06c0f),{'tag':_0x6cf6('0xe'),'attributes':{'class':['ck','ck-revision-history-sidebar__timeline',_0x3bf61f['if'](_0x6cf6('0x13'),_0x6cf6('0x11'),_0x482757=>!_0x482757)]},'children':this[_0x6cf6('0xa')]}]});}[_0x6cf6('0x25')](){super[_0x6cf6('0x25')]();for(const _0x38b714 of this[_0x6cf6('0x8')])this[_0x6cf6('0x1c')](_0x38b714);this[_0x6cf6('0x8')]['on'](_0x6cf6('0x2'),(_0x5dfd5e,_0x19171f)=>{this[_0x6cf6('0x1c')](_0x19171f);}),this[_0x6cf6('0x8')]['on'](_0x6cf6('0x18'),(_0x570168,_0x34dd00)=>{this[_0x6cf6('0xc')](_0x34dd00);});}get[_0x6cf6('0x22')](){return this[_0x6cf6('0xa')]['map'](_0xb63a88=>_0xb63a88[_0x6cf6('0x22')][_0x6cf6('0x19')](_0x1e8d46=>_0x1e8d46))[_0x6cf6('0x6')]();}[_0x6cf6('0x16')](_0x450283){for(const _0x5a5178 of this[_0x6cf6('0x22')])_0x450283&&_0x450283['id']===_0x5a5178['id']?_0x5a5178[_0x6cf6('0x21')]():_0x5a5178[_0x6cf6('0x5')]();}['highlightRevisions'](_0x44d54e){for(const _0x22e0ef of this[_0x6cf6('0x22')])_0x44d54e[_0x6cf6('0x1f')](({id:_0x40ef2d})=>_0x40ef2d===_0x22e0ef['id'])?_0x22e0ef['highlight']():_0x22e0ef[_0x6cf6('0x1b')]();}[_0x6cf6('0x1c')](_0x453a34){const _0x421c2c=_0x2c8037(_0x453a34[_0x6cf6('0x12')])[_0x6cf6('0x0')];let _0x2824b2=this[_0x6cf6('0xa')][_0x6cf6('0x10')](0x0);_0x2824b2&&_0x2824b2['startDate'][_0x6cf6('0xf')]()===_0x421c2c[_0x6cf6('0xf')]()||(_0x2824b2=new _0x450be1(this[_0x6cf6('0x15')],_0x421c2c,this[_0x6cf6('0x3')]),this[_0x6cf6('0xa')]['add'](_0x2824b2)),_0x2824b2[_0x6cf6('0x14')](_0x453a34);}['_removeRevision'](_0x16ab45){const _0x20f3a9=_0x2c8037(_0x16ab45['createdAt'])['startDate'];this[_0x6cf6('0xd')](_0x20f3a9)[_0x6cf6('0x1d')](_0x16ab45);}[_0x6cf6('0xd')](_0x20d9ab){return this[_0x6cf6('0xa')][_0x6cf6('0x1')](_0x40cba4=>_0x40cba4[_0x6cf6('0x0')][_0x6cf6('0xf')]()===_0x20d9ab[_0x6cf6('0xf')]());}}