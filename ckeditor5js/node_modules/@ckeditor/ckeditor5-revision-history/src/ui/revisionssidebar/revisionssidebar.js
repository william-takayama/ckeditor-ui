/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3189=['_revisionViewer','ready','fieldView','compareAgainstSelected','select','isReady','_handleEditorDataReady','selectRevision','pluginName','change:diff','get','name','length','compare','map','newRevisionId','diff','timePeriodViews','revisionHistory.revisionActions','revisionSetName','getEarlierVisibleRevision','getRevision','string','isEnabled','render','listenTo','_sidebarView','remove','focus','restoreRevision','highlightRevisions','setName','getRevisionsInDiff','locale','element','bind','data','_handleRevisionSelected','action','add','isVisible','repository','availableRevisionActions','RevisionsSidebar','init','isSelected','_handleRevisionSetName','editor','destroy','appendChild','config','requires','revisionHistory.viewerSidebarContainer','_createRevisionActions','getIndex','defaultRevisionActions','Restore\x20this\x20revision','_revisions','_handleDiffChange','_revisionsRepository'];(function(_0x309302,_0x3189cc){const _0x189b86=function(_0x1a05a4){while(--_0x1a05a4){_0x309302['push'](_0x309302['shift']());}};_0x189b86(++_0x3189cc);}(_0x3189,0x130));const _0x189b=function(_0x309302,_0x3189cc){_0x309302=_0x309302-0x0;let _0x189b86=_0x3189[_0x309302];return _0x189b86;};import{Plugin as _0x22934e}from'ckeditor5/src/core';import _0x485c36 from'./revisionssidebarview';import _0x581f08 from'../../revisionviewer';export default class w extends _0x22934e{static get[_0x189b('0x4')](){return _0x189b('0x27');}static get[_0x189b('0x2f')](){return[_0x581f08];}constructor(_0xf9f6f6){super(_0xf9f6f6),this[_0x189b('0x38')]=_0xf9f6f6['plugins'][_0x189b('0x6')](_0x581f08),this[_0x189b('0x37')]=this[_0x189b('0x38')][_0x189b('0x25')],this[_0x189b('0x16')]=null;}[_0x189b('0x28')](){const _0x59953a=this[_0x189b('0x37')][_0x189b('0x35')],_0x25913a=this[_0x189b('0x31')](),_0xecad9b=this[_0x189b('0x2b')]['config']['get'](_0x189b('0x30'));this[_0x189b('0x16')]=new _0x485c36(this[_0x189b('0x2b')][_0x189b('0x1d')],_0x59953a,_0x25913a),this['_sidebarView']['on']('revisionSelected',this[_0x189b('0x21')]['bind'](this)),this[_0x189b('0x16')]['on'](_0x189b('0xf'),this[_0x189b('0x2a')][_0x189b('0x1f')](this)),this[_0x189b('0x16')][_0x189b('0x1f')](_0x189b('0x13'))['to'](this[_0x189b('0x38')]),this[_0x189b('0x16')][_0x189b('0xd')]['on'](_0x189b('0x23'),(_0x2813bc,_0x104fc2)=>{_0x104fc2['revisionViews']['on'](_0x189b('0x23'),(_0x2be25c,_0x225a1e)=>{_0x225a1e[_0x189b('0x1f')]('isEnabled',_0x189b('0x1'))['to'](this['_revisionViewer']);});}),this[_0x189b('0x16')][_0x189b('0x14')](),this[_0x189b('0x15')](this[_0x189b('0x2b')][_0x189b('0x20')],_0x189b('0x39'),this[_0x189b('0x2')][_0x189b('0x1f')](this)),this[_0x189b('0x15')](this[_0x189b('0x38')],_0x189b('0x5'),this[_0x189b('0x36')][_0x189b('0x1f')](this)),_0xecad9b[_0x189b('0x2d')](this[_0x189b('0x16')][_0x189b('0x1e')]);}['destroy'](){this[_0x189b('0x16')][_0x189b('0x1e')][_0x189b('0x17')](),this[_0x189b('0x16')][_0x189b('0x2c')]();}[_0x189b('0x2')](){const _0x251891=this[_0x189b('0x37')][_0x189b('0x11')](0x0);if(_0x251891){const _0x527d5c=this['_revisionsRepository']['getEarlierVisibleRevision'](_0x251891['id']);this['_revisionViewer'][_0x189b('0x9')](_0x251891,_0x527d5c);}}[_0x189b('0x21')](_0x506aad,_0x593a4f){const _0x1b885c=this[_0x189b('0x37')][_0x189b('0x11')](_0x593a4f['id']),_0x280855=this[_0x189b('0x37')][_0x189b('0x10')](_0x1b885c['id']);this[_0x189b('0x38')][_0x189b('0x9')](_0x1b885c,_0x280855);}[_0x189b('0x2a')](_0xa5dfff,_0x406d41){this[_0x189b('0x37')][_0x189b('0x11')](_0x406d41['id'])[_0x189b('0x1b')](_0x406d41[_0x189b('0x7')]);}[_0x189b('0x36')](_0x10297,_0x2b8def,_0x1e33c4){const _0x2abafb=this['_revisionsRepository'][_0x189b('0x1c')](_0x1e33c4);_0x2abafb[_0x189b('0x8')]>0x2?(this[_0x189b('0x16')][_0x189b('0x1a')](_0x2abafb),this[_0x189b('0x16')][_0x189b('0x3')](null)):(this[_0x189b('0x16')][_0x189b('0x1a')]([]),this[_0x189b('0x16')][_0x189b('0x3')](_0x2abafb[0x0]));}[_0x189b('0x31')](){const _0x107fc4=this[_0x189b('0x2b')],_0x573b59=w[_0x189b('0x26')],_0x370013=_0x107fc4[_0x189b('0x2e')]['get'](_0x189b('0xe'))||w[_0x189b('0x33')];if(_0x370013[_0x189b('0x8')])return _0x370013[_0x189b('0xa')](_0x58cc6a=>{const _0x5713b7=_0x189b('0x12')==typeof _0x58cc6a?Object['assign']({},_0x573b59[_0x58cc6a]):_0x58cc6a;return _0x5713b7[_0x189b('0x22')]=_0x5713b7[_0x189b('0x22')][_0x189b('0x1f')](this,_0x107fc4),_0x5713b7[_0x189b('0x24')]&&(_0x5713b7['isVisible']=_0x5713b7[_0x189b('0x24')][_0x189b('0x1f')](this,_0x107fc4)),_0x5713b7;});}}w[_0x189b('0x26')]={'compareAgainstSelected':{'name':'Compare\x20against\x20selected','action':({plugins:_0x6c02cc},_0xbd039c)=>{const _0x2d1105=_0x6c02cc['get'](_0x581f08),_0x448fe4=_0x2d1105[_0x189b('0x25')];let _0x3cf5bc=_0x2d1105[_0x189b('0xc')][_0x189b('0xb')],_0x57b1a2=_0xbd039c['id'];_0x448fe4['getIndex'](_0x3cf5bc)>_0x448fe4[_0x189b('0x32')](_0x57b1a2)&&([_0x3cf5bc,_0x57b1a2]=[_0x57b1a2,_0x3cf5bc]),_0x2d1105[_0x189b('0x9')](_0x3cf5bc,_0x57b1a2);},'isVisible':({plugins:_0x5d22e1},_0x54609d)=>{const _0x27e539=_0x5d22e1[_0x189b('0x6')](_0x581f08);return!(_0x27e539[_0x189b('0x25')]['getRevisionsInDiff'](_0x27e539[_0x189b('0xc')])[_0x189b('0x8')]>0x2)&&!_0x54609d[_0x189b('0x29')];}},'restoreRevision':{'name':_0x189b('0x34'),'action':(_0x4207f8,{id:_0x123e10})=>{_0x4207f8['config'][_0x189b('0x6')]('revisionHistory')['restoreRevisionCallback'](_0x123e10);},'isVisible':({plugins:_0x365ce7},_0x4bb1ba)=>!!_0x365ce7[_0x189b('0x6')](_0x581f08)[_0x189b('0x25')]['getLaterVisibleRevision'](_0x4bb1ba['id'])},'nameRevision':{'name':'Name\x20this\x20revision','action':({plugins:_0x3c8094},{id:_0x573849,revisionNameView:_0x336fc4})=>{const _0xf70879=_0x3c8094['get'](_0x581f08),_0x42aa36=_0xf70879[_0x189b('0x25')][_0x189b('0x10')](_0x573849);_0xf70879['compare'](_0x573849,_0x42aa36),_0x336fc4[_0x189b('0x18')](),_0x336fc4[_0x189b('0x3a')][_0x189b('0x0')]();}}},w[_0x189b('0x33')]=[_0x189b('0x3b'),_0x189b('0x19'),'nameRevision'];