/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1653=['element','isActionsDropdownOpen','length','ck-revision-history-sidebar__actions_dropdown_open','closest','isEnabled','ck-revision-history-sidebar__revision__controls-wrapper','setName','isReady','change','fieldView','unshift','set','listenTo','isSelected','select','ck-disabled','isConfirm','uiLanguage','220','ck-revision-history-sidebar__revision-wrapper','name','bind','bindTemplate','revisionActionsView','value','ck-revision-history-sidebar__revision__date','ck-reset','createdAt','ck-revision-history-sidebar__revision','render','map','unhighlight','isHighlighted','div','setTemplate','revisionNameView','_createdAtFormatted','from','ck-revision-history-sidebar__revision_selected','filter','placeholder','creator'];(function(_0x28760c,_0x165382){const _0xabcb66=function(_0x1b301f){while(--_0x1b301f){_0x28760c['push'](_0x28760c['shift']());}};_0xabcb66(++_0x165382);}(_0x1653,0x10e));const _0xabcb=function(_0x28760c,_0x165382){_0x28760c=_0x28760c-0x0;let _0xabcb66=_0x1653[_0x28760c];return _0xabcb66;};import{View as _0x4d5af6,createLabeledInputText as _0xa338c2}from'ckeditor5/src/ui';import{mix as _0x448c9d}from'ckeditor5/src/utils';import{ConfirmMixin as _0x2f1517}from'ckeditor5-collaboration/src/collaboration-core';import _0x4dcc32 from'./revisionnameview';import _0xcdb0ff from'./revisionauthorview';import{dateToPrettyFormat as _0x590f04}from'./utils';import{createActionsDropdownView as _0x5ae718}from'./createrevisionactionsdropdown';import'../../../theme/revision/revision.css';export default class ci extends _0x4d5af6{constructor(_0x31a77f,_0xe04423,_0x55af8f){super(_0x31a77f);const _0x5e1930=this[_0xabcb('0xb')],_0x4b0c65=function(_0x3a37ff,_0x2ca10a){const _0x16e0e7=Array[_0xabcb('0x1a')](_0x2ca10a['authors'])[_0xabcb('0x1c')](_0x48df9a=>_0x48df9a!=_0x2ca10a['creator']);return _0x2ca10a[_0xabcb('0x1e')]&&_0x16e0e7[_0xabcb('0x2a')](_0x2ca10a[_0xabcb('0x1e')]),_0x16e0e7[_0xabcb('0x13')](_0x1a82b3=>new _0xcdb0ff(_0x3a37ff,_0x1a82b3,_0x1a82b3==_0x2ca10a['creator']));}(_0x31a77f,_0xe04423);this['_revision']=_0xe04423,this['id']=_0xe04423['id'],this['bind']('name',_0xabcb('0x10'))['to'](_0xe04423),this['set'](_0xabcb('0x2'),!0x1),this[_0xabcb('0x0')](_0xabcb('0x15'),!0x1),this['set'](_0xabcb('0x20'),!0x1),this['set'](_0xabcb('0x27'),!0x1),this[_0xabcb('0xa')](_0xabcb('0x19'))['to'](this,_0xabcb('0x10'),_0x148b7c=>_0x148b7c?_0x590f04(_0x31a77f[_0xabcb('0x6')],_0x148b7c):null),this['set']('isEnabled',!0x1),this['revisionNameView']=new _0x4dcc32(_0x31a77f,_0xa338c2),this[_0xabcb('0x18')][_0xabcb('0x29')]['extendTemplate']({'attributes':{'maxlength':_0xabcb('0x7')}}),this['revisionNameView']['fieldView'][_0xabcb('0xa')](_0xabcb('0xd'),_0xabcb('0x1d'))['to'](this,_0xabcb('0x9'),'_createdAtFormatted'),this[_0xabcb('0x18')]['bind'](_0xabcb('0x24'))['to'](this,_0xabcb('0x2'),this,'isEnabled',(_0x57b082,_0x22b41a)=>_0x57b082&&_0x22b41a),this[_0xabcb('0xc')]=_0x55af8f&&_0x55af8f[_0xabcb('0x21')]?_0x5ae718(this,_0x55af8f):'',this[_0xabcb('0xc')]['bind'](_0xabcb('0x24'))['to'](this),this[_0xabcb('0x17')]({'tag':_0xabcb('0x16'),'attributes':{'class':['ck',_0xabcb('0xf'),_0xabcb('0x8'),_0x5e1930['if'](_0xabcb('0x5'),'ck-revision-history-sidebar__revision-wrapper_confirmation_visible')]},'children':[{'tag':'div','attributes':{'class':['ck',_0xabcb('0xf'),_0xabcb('0x11'),_0x5e1930['if'](_0xabcb('0x24'),_0xabcb('0x4'),_0x451226=>!_0x451226),_0x5e1930['if'](_0xabcb('0x2'),_0xabcb('0x1b')),_0x5e1930['if'](_0xabcb('0x15'),'ck-revision-history-sidebar__revision_highlighted'),_0x5e1930['if'](_0xabcb('0x20'),_0xabcb('0x22'))]},'children':[this['revisionNameView'],{'tag':'span','attributes':{'class':['ck',_0xabcb('0xe')]},'children':[{'text':_0x5e1930['to']('_createdAtFormatted')}]},{'tag':'div','attributes':{'class':['ck',_0xabcb('0x25')]},'children':[{'tag':'ul','attributes':{'class':['ck','ck-revision-history-sidebar__revision-authors']},'children':_0x4b0c65}]},this[_0xabcb('0xc')]],'on':{'click':_0x5e1930['to'](_0x36ab9e=>{_0x36ab9e['srcElement'][_0xabcb('0x23')]('.ck-thread__remove-confirm')||this[_0xabcb('0x27')]&&this[_0xabcb('0x24')]&&this['fire'](_0xabcb('0x3'),{'id':this['id']});})}}]});}[_0xabcb('0x12')](){super[_0xabcb('0x12')]();const _0x3e6da2=this['revisionNameView']['fieldView'][_0xabcb('0x1f')];this[_0xabcb('0x1')](_0x3e6da2,_0xabcb('0x28'),()=>{this['fire'](_0xabcb('0x26'),{'id':this['id'],'name':_0x3e6da2[_0xabcb('0xd')]});});}[_0xabcb('0x3')](){this[_0xabcb('0x2')]=!0x0;}['deselect'](){this[_0xabcb('0x2')]=!0x1;}['highlight'](){this[_0xabcb('0x15')]=!0x0;}[_0xabcb('0x14')](){this['isHighlighted']=!0x1;}}_0x448c9d(ci,_0x2f1517);