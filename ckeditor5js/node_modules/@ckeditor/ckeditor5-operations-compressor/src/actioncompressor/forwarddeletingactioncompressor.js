/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1c80=['_compareOperations','howMany','sourcePosition','buffers','wasUndone','_combineNext','decompress','_context','$graveyard','root','_splitCurrent','targetPosition','MoveOperation','compress','_getCompressorByName'];(function(_0x24dc34,_0x1c8094){const _0x587bbd=function(_0x257692){while(--_0x257692){_0x24dc34['push'](_0x24dc34['shift']());}};_0x587bbd(++_0x1c8094);}(_0x1c80,0xfe));const _0x587b=function(_0x24dc34,_0x1c8094){_0x24dc34=_0x24dc34-0x0;let _0x587bbd=_0x1c80[_0x24dc34];return _0x587bbd;};import _0x363edd from'./actioncompressor';import{arePositionsEqual as _0x2e9dcf}from'../utils';import{cloneDeep as _0x431375}from'lodash-es';export default class l extends _0x363edd{[_0x587b('0x6')](_0x4e5a54,_0x2b87e1){return _0x2b87e1[_0x587b('0x2')]++,_0x2b87e1;}[_0x587b('0xb')](_0x332f01){const _0x1c4795=_0x431375(_0x332f01);return _0x1c4795[_0x587b('0x2')]=0x1,_0x332f01[_0x587b('0x2')]--,_0x1c4795;}[_0x587b('0x1')](_0x4ba54a,_0x5af81a){return!(!S(_0x4ba54a)||!S(_0x5af81a))&&(_0x2e9dcf(_0x4ba54a[_0x587b('0x3')],_0x5af81a[_0x587b('0x3')])&&_0x2e9dcf(_0x4ba54a['targetPosition'],_0x5af81a[_0x587b('0xc')]));}['_compressSingleOperation'](_0x2e4c63){const _0x5c416d={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x587b('0x8')][_0x587b('0x0')](_0x587b('0xd'))[_0x587b('0xe')](_0x5c416d,[_0x2e4c63]),_0x5c416d[_0x587b('0x4')][0x0];}['_decompressSingleOperation'](_0x1484d6){const _0x18210e=[];return this[_0x587b('0x8')][_0x587b('0x0')](_0x587b('0xd'))[_0x587b('0x7')](_0x18210e,_0x1484d6),_0x18210e[0x0];}}function S(_0x4d3afc){return _0x587b('0xd')==_0x4d3afc['__className']&&_0x587b('0x9')==_0x4d3afc[_0x587b('0xc')][_0x587b('0xa')]&&0x1==_0x4d3afc['howMany']&&!_0x4d3afc[_0x587b('0x5')];}