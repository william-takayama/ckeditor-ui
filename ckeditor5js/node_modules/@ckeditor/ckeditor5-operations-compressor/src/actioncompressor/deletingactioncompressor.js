/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5f3d=['$graveyard','_combineNext','howMany','_splitCurrent','_compressSingleOperation','_decompressSingleOperation','wasUndone','buffers','_context','_compareOperations','decompress','compress','sourcePosition','targetPosition','_getCompressorByName','root'];(function(_0x52dd8c,_0x5f3dd6){const _0x322462=function(_0x394c53){while(--_0x394c53){_0x52dd8c['push'](_0x52dd8c['shift']());}};_0x322462(++_0x5f3dd6);}(_0x5f3d,0x1c0));const _0x3224=function(_0x52dd8c,_0x5f3dd6){_0x52dd8c=_0x52dd8c-0x0;let _0x322462=_0x5f3d[_0x52dd8c];return _0x322462;};import _0x1b57e1 from'./actioncompressor';import{arePositionsEqual as _0x2e590d,getPositionShiftedBy as _0x2d2373}from'../utils';import{cloneDeep as _0x419c0c}from'lodash-es';export default class u extends _0x1b57e1{[_0x3224('0x1')](_0x4c425c,_0x465d9d){return _0x465d9d['howMany']++,_0x465d9d[_0x3224('0xc')]=_0x419c0c(_0x4c425c[_0x3224('0xc')]),_0x465d9d;}[_0x3224('0x3')](_0xddbda5){const _0x236f31=_0x419c0c(_0xddbda5);return _0xddbda5[_0x3224('0x2')]--,_0x236f31[_0x3224('0x2')]=0x1,_0x236f31[_0x3224('0xc')]=_0x2d2373(_0x236f31[_0x3224('0xc')],_0xddbda5['howMany']),_0x236f31;}[_0x3224('0x9')](_0x4035d0,_0x3f5254){return!(!S(_0x4035d0)||!S(_0x3f5254))&&(_0x2e590d(_0x2d2373(_0x4035d0[_0x3224('0xc')],-0x1),_0x3f5254[_0x3224('0xc')])&&_0x2e590d(_0x4035d0[_0x3224('0xd')],_0x3f5254[_0x3224('0xd')]));}[_0x3224('0x4')](_0x4914b3){const _0x5def55={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x3224('0x8')][_0x3224('0xe')]('MoveOperation')[_0x3224('0xb')](_0x5def55,[_0x4914b3]),_0x5def55[_0x3224('0x7')][0x0];}[_0x3224('0x5')](_0x290074){const _0x19b584=[];return this['_context'][_0x3224('0xe')]('MoveOperation')[_0x3224('0xa')](_0x19b584,_0x290074),_0x19b584[0x0];}}function S(_0x593975){return'MoveOperation'==_0x593975['__className']&&_0x3224('0x0')==_0x593975[_0x3224('0xd')][_0x3224('0xf')]&&0x1==_0x593975[_0x3224('0x2')]&&!_0x593975[_0x3224('0x6')];}