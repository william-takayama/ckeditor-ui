/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xe5a4=['decompress','_compressSingleOperation','buffers','compress','every','wasUndone','_compareOperations','from','__className','data','keys','position','length','nodes','value','iterator','_splitCurrent','attributes','next','_context','InsertOperation'];(function(_0x487d7e,_0xe5a42f){const _0x5d07e9=function(_0x109a13){while(--_0x109a13){_0x487d7e['push'](_0x487d7e['shift']());}};_0x5d07e9(++_0xe5a42f);}(_0xe5a4,0x194));const _0x5d07=function(_0x487d7e,_0xe5a42f){_0x487d7e=_0x487d7e-0x0;let _0x5d07e9=_0xe5a4[_0x487d7e];return _0x5d07e9;};import _0x36679a from'./actioncompressor';import{arePositionsEqual as _0x36872d,getPositionShiftedBy as _0x5814de}from'../utils';import{cloneDeep as _0x1c730e}from'lodash-es';export default class g extends _0x36679a{['_combineNext'](_0x228d5a,_0xbc03dd){return _0xbc03dd['nodes'][0x0]['data']+=_0x228d5a[_0x5d07('0x8')][0x0][_0x5d07('0x4')],_0xbc03dd;}[_0x5d07('0xb')](_0x41c559){const _0x3f2b18=_0x1c730e(_0x41c559),_0x508c14=_0x3f2b18[_0x5d07('0x8')][0x0],_0x473ee4=_0x41c559['nodes'][0x0],_0x57768f=_0x473ee4[_0x5d07('0x4')][Symbol[_0x5d07('0xa')]]()[_0x5d07('0xd')]()[_0x5d07('0x9')],_0x387467=_0x57768f[_0x5d07('0x7')];return _0x508c14['data']=_0x57768f,_0x473ee4[_0x5d07('0x4')]=_0x473ee4['data']['substr'](_0x387467),_0x41c559['position']=_0x5814de(_0x41c559['position'],_0x387467),_0x3f2b18;}[_0x5d07('0x1')](_0x1484cf,_0x390d79){if(S(_0x1484cf)&&S(_0x390d79)){const _0x3787d4=_0x1484cf[_0x5d07('0x8')][0x0][_0x5d07('0x4')]['length'],_0x2d187a=_0x36872d(_0x5814de(_0x1484cf[_0x5d07('0x6')],_0x3787d4),_0x390d79[_0x5d07('0x6')]),_0x3f2758=_0x1484cf[_0x5d07('0x8')][0x0],_0x4b9d40=_0x390d79[_0x5d07('0x8')][0x0];return _0x2d187a&&function(_0x1be767,_0x56642d){const _0x49bbd9=Object[_0x5d07('0x5')](_0x1be767[_0x5d07('0xc')]||{}),_0x2733e9=Object[_0x5d07('0x5')](_0x56642d[_0x5d07('0xc')]||{});if(_0x49bbd9[_0x5d07('0x7')]!==_0x2733e9[_0x5d07('0x7')])return!0x1;return _0x49bbd9[_0x5d07('0x14')](_0x3fb910=>_0x56642d[_0x5d07('0xc')][_0x3fb910]&&_0x56642d[_0x5d07('0xc')][_0x3fb910]===_0x1be767[_0x5d07('0xc')][_0x3fb910]);}(_0x3f2758,_0x4b9d40);}return!0x1;}[_0x5d07('0x11')](_0x1020cd){const _0x1f8055={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x5d07('0xe')]['_getCompressorByName'](_0x5d07('0xf'))[_0x5d07('0x13')](_0x1f8055,[_0x1020cd]),_0x1f8055[_0x5d07('0x12')][0x0];}['_decompressSingleOperation'](_0x1e5386){const _0x152488=[];return this[_0x5d07('0xe')]['_getCompressorByName'](_0x5d07('0xf'))[_0x5d07('0x10')](_0x152488,_0x1e5386),_0x152488[0x0];}}function S(_0xc192c9){return'InsertOperation'==_0xc192c9[_0x5d07('0x3')]&&0x1==_0xc192c9[_0x5d07('0x8')][_0x5d07('0x7')]&&_0xc192c9['nodes'][0x0][_0x5d07('0x4')]&&!_0xc192c9[_0x5d07('0x0')]&&0x1==Array[_0x5d07('0x2')](_0xc192c9[_0x5d07('0x8')][0x0][_0x5d07('0x4')])[_0x5d07('0x7')];}