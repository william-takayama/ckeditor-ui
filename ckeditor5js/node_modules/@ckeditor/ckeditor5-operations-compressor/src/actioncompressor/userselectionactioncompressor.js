/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x29ec=['shift','split','start','end','user:','buffers','user:position:','_decompressSingleOperation','_context','toNone','MarkerOperation','types','_getCompressorByName','_compressSingleOperation','push','oldRange','compress','stickiness','startsWith','name','newRange','decompress'];(function(_0x2aaf53,_0x29ec5d){const _0x26ff1a=function(_0x377e59){while(--_0x377e59){_0x2aaf53['push'](_0x2aaf53['shift']());}};_0x26ff1a(++_0x29ec5d);}(_0x29ec,0x117));const _0x26ff=function(_0x2aaf53,_0x29ec5d){_0x2aaf53=_0x2aaf53-0x0;let _0x26ff1a=_0x29ec[_0x2aaf53];return _0x26ff1a;};import _0x296587 from'./actioncompressor';import{arePositionsEqual as _0x284156}from'../utils';import{cloneDeep as _0x2171c5}from'lodash-es';export default class M extends _0x296587{[_0x26ff('0x1')](_0x4c2b19,_0xff69c){if(!function(_0x5d0eeb,_0x418a62){if(!_0x5d0eeb||!_0x418a62)return!0x1;if('MarkerOperation'!=_0x5d0eeb['__className']||_0x26ff('0x11')!=_0x418a62['__className'])return!0x1;if(_0x5d0eeb[_0x26ff('0x4')][_0x26ff('0x3')]('user:')&&_0x418a62[_0x26ff('0x4')]['startsWith'](_0x26ff('0xb'))&&_0x5d0eeb[_0x26ff('0x4')]!=_0x418a62[_0x26ff('0x4')])return!0x0;return!0x1;}(_0xff69c[0x0],_0xff69c[0x1]))return!0x1;const _0x5bf9e3=_0xff69c[_0x26ff('0x7')]();return _0x5bf9e3[_0x26ff('0x0')]=null,_0x5bf9e3['newRange']&&_0x284156(_0x5bf9e3[_0x26ff('0x5')][_0x26ff('0x9')],_0x5bf9e3[_0x26ff('0x5')][_0x26ff('0xa')])&&(_0x5bf9e3['newRange'][_0x26ff('0xa')]=null),_0xff69c[_0x26ff('0x7')](),_0x4c2b19[_0x26ff('0x12')][_0x26ff('0x15')](this['id']),_0x4c2b19['types'][_0x26ff('0x15')](0x0),_0x4c2b19[_0x26ff('0xc')]['push'](this[_0x26ff('0x14')](_0x5bf9e3)),!0x0;}['decompress'](_0x53ae23,_0x145c1f){const _0x53912d=this['_decompressSingleOperation'](_0x145c1f);_0x53912d['newRange']&&!_0x53912d['newRange'][_0x26ff('0xa')]&&(_0x53912d[_0x26ff('0x5')][_0x26ff('0xa')]=_0x2171c5(_0x53912d['newRange'][_0x26ff('0x9')]));const _0x4bfb3b=_0x2171c5(_0x53912d);_0x4bfb3b['newRange']&&(_0x4bfb3b[_0x26ff('0x5')]['start'][_0x26ff('0x2')]=_0x26ff('0x10'),_0x4bfb3b[_0x26ff('0x5')][_0x26ff('0xa')]=_0x2171c5(_0x4bfb3b['newRange'][_0x26ff('0x9')])),_0x4bfb3b[_0x26ff('0x4')]=_0x26ff('0xd')+_0x4bfb3b['name'][_0x26ff('0x8')](':')[0x2],_0x145c1f['types']['shift'](),_0x53ae23['push'](_0x53912d),_0x53ae23[_0x26ff('0x15')](_0x4bfb3b);}[_0x26ff('0x14')](_0x5d9fcf){const _0x5a8c25={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x26ff('0xf')]['_getCompressorByName']('MarkerOperation')[_0x26ff('0x1')](_0x5a8c25,[_0x5d9fcf]),_0x5a8c25[_0x26ff('0xc')][0x0];}[_0x26ff('0xe')](_0x490f81){const _0x45c6c2=[];return this[_0x26ff('0xf')][_0x26ff('0x13')](_0x26ff('0x11'))[_0x26ff('0x6')](_0x45c6c2,_0x490f81),_0x45c6c2[0x0];}}