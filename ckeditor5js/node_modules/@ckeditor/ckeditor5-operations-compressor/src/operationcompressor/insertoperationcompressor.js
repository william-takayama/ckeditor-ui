/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3ea5=['bool','push','compress','attributes','repeated','children','types','nodes','attributesBoolean','stringify','keys','every','decompress','parse','description','shift','__className','Position','attributesJson','operationName','_protobufDescriptor'];(function(_0x1237d7,_0x3ea562){const _0x32686c=function(_0x3328b3){while(--_0x3328b3){_0x1237d7['push'](_0x1237d7['shift']());}};_0x32686c(++_0x3ea562);}(_0x3ea5,0xb0));const _0x3268=function(_0x1237d7,_0x3ea562){_0x1237d7=_0x1237d7-0x0;let _0x32686c=_0x3ea5[_0x1237d7];return _0x32686c;};import _0x2fb4a5 from'./operationcompressor';import{parsePositionBeforeCompression as _0x2285a9,parsePositionAfterCompression as _0x251926}from'../utils';export default class s extends _0x2fb4a5{static get[_0x3268('0x6')](){return{'fields':{'position':{'type':_0x3268('0x9'),'id':0x1},'nodes':{'rule':_0x3268('0x11'),'type':'Element','id':0x2},'shouldReceiveAttributes':{'type':_0x3268('0xd'),'id':0x3},'wasUndone':{'type':_0x3268('0xd'),'id':0x4}}};}[_0x3268('0xf')](_0x1cc591,_0x17d8c5){const _0x28262c=_0x17d8c5[_0x3268('0x7')]();A(_0x28262c[_0x3268('0x14')]),_0x2285a9(_0x28262c),_0x1cc591['buffers'][_0x3268('0xe')](this[_0x3268('0xc')]['compress'](_0x28262c)),_0x1cc591[_0x3268('0x13')]['push'](this['id']);}[_0x3268('0x4')](_0x2f8998,_0x13e55f){const {types:_0x3e4584,buffers:_0x2ad601}=_0x13e55f,_0x31c8d5=this[_0x3268('0xc')]['decompress'](_0x2ad601[_0x3268('0x7')]());_0x3e4584['shift'](),_0x31c8d5[_0x3268('0x14')]||(_0x31c8d5['nodes']=[]),E(_0x31c8d5[_0x3268('0x14')]),_0x251926(_0x31c8d5),_0x31c8d5[_0x3268('0x8')]=this[_0x3268('0xb')],_0x2f8998['push'](_0x31c8d5);}}function A(_0x805690){for(const _0x5e07c9 of _0x805690){if(_0x5e07c9[_0x3268('0x10')]){const _0x13bdd0=_0x5e07c9[_0x3268('0x10')];R(_0x13bdd0)?_0x5e07c9[_0x3268('0x0')]=_0x13bdd0:_0x5e07c9[_0x3268('0xa')]=JSON[_0x3268('0x1')](_0x13bdd0);}_0x5e07c9[_0x3268('0x12')]&&A(_0x5e07c9[_0x3268('0x12')]);}}function E(_0x52937f){for(const _0x2d15d5 of _0x52937f)(_0x2d15d5[_0x3268('0x0')]||_0x2d15d5[_0x3268('0xa')])&&(_0x2d15d5[_0x3268('0x0')]?(_0x2d15d5[_0x3268('0x10')]=_0x2d15d5[_0x3268('0x0')],delete _0x2d15d5[_0x3268('0x0')]):(_0x2d15d5['attributes']=JSON[_0x3268('0x5')](_0x2d15d5[_0x3268('0xa')]),delete _0x2d15d5['attributesJson'])),_0x2d15d5[_0x3268('0x12')]&&E(_0x2d15d5['children']);}function R(_0x2868d0){return Object[_0x3268('0x2')](_0x2868d0)[_0x3268('0x3')](_0x556c1e=>'boolean'==typeof _0x2868d0[_0x556c1e]);}