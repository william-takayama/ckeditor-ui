/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3982fd){return _0x3982fd&&_0x3982fd['__esModule']?_0x3982fd:{'default':_0x3982fd};};Object['defineProperty'](exports,'__esModule',{'value':!0x0});const messagescompressor_1=__importDefault(require('./../../../messagescompressor')),message_1=__importDefault(require('./../../../message')),packetoptionsmessage_1=__importDefault(require('./packetoptionsmessage')),parserutils_1=__importDefault(require('./../parserutils')),numberbytespacketdatamessage_1=__importDefault(require('./numberbytespacketdatamessage')),stringbytespacketdatamessage_1=__importDefault(require('./stringbytespacketdatamessage')),bytesbytespacketdatamessage_1=__importDefault(require('./bytesbytespacketdatamessage')),stringobjectpacketdatamessage_1=__importDefault(require('./stringobjectpacketdatamessage')),numberobjectpacketdatamessage_1=__importDefault(require('./numberobjectpacketdatamessage')),objectobjectpacketdatamessage_1=__importDefault(require('./objectobjectpacketdatamessage')),objectbufferpacketdatamessage_1=__importDefault(require('./objectbufferpacketdatamessage')),stringstringpacketdatamessage_1=__importDefault(require('./stringstringpacketdatamessage')),stringnumberpacketdatamessage_1=__importDefault(require('./stringnumberpacketdatamessage')),numbernumberpacketdatamessag_1=__importDefault(require('./numbernumberpacketdatamessag')),numberstringpacketdatamessag_1=__importDefault(require('./numberstringpacketdatamessag')),PACKET_DATA_MESSAGES=[numberbytespacketdatamessage_1['default'],stringbytespacketdatamessage_1['default'],bytesbytespacketdatamessage_1['default'],stringobjectpacketdatamessage_1['default'],numberobjectpacketdatamessage_1['default'],objectobjectpacketdatamessage_1['default'],objectbufferpacketdatamessage_1['default'],stringstringpacketdatamessage_1['default'],stringnumberpacketdatamessage_1['default'],numbernumberpacketdatamessag_1['default'],numberstringpacketdatamessag_1['default']]['reduce']((_0x3e0270,_0x3f8f5c)=>(_0x3e0270[_0x3f8f5c['TYPE']]=_0x3f8f5c,_0x3e0270),{});class PacketMessage extends message_1['default']{constructor(_0x2824bb,_0x561cc5,_0x51bf96,_0xb5bd7c='/',_0x1f2b3c=new packetoptionsmessage_1['default']()){super(),this['type']=_0x2824bb,this['data']=_0x561cc5,this['id']=_0x51bf96,this['nsp']=_0xb5bd7c,this['options']=_0x1f2b3c;}get['packetData'](){return void 0x0===this['data']['data']&&void 0x0===this['data']['data1']?[]:this['data']['data']&&void 0x0===this['data']['data1']?[this['data']['data']]:[this['data']['data'],this['data']['data1']];}['toJSON'](){const _0x25778b=messagescompressor_1['default']['encode'](this['options']),_0x326d3b=messagescompressor_1['default']['encode'](this['data']);return{'type':this['type']+0xa*this['data']['constructor']['TYPE'],'id':this['id'],'nsp':'/'===this['nsp']?void 0x0:this['nsp'],'data':_0x326d3b,'options':_0x25778b};}static['fromJSON'](_0x2d7543){const _0x152819=Math['floor'](_0x2d7543['type']/0xa);return new PacketMessage(_0x2d7543['type']-0xa*_0x152819,messagescompressor_1['default']['decode'](_0x2d7543['data'],PACKET_DATA_MESSAGES[_0x152819]),_0x2d7543['id'],_0x2d7543['nsp'],_0x2d7543['options']?messagescompressor_1['default']['decode'](_0x2d7543['options'],packetoptionsmessage_1['default']):new packetoptionsmessage_1['default']());}static['create'](_0xcd5c7c,_0x5dc1e1={}){var _0x37f240;const _0x1fff9d=parserutils_1['default']['getPacketType'](parserutils_1['default']['getType'](_0xcd5c7c['data'][0x0]),parserutils_1['default']['getType'](null!==(_0x37f240=_0xcd5c7c['data'][0x1])&&void 0x0!==_0x37f240?_0x37f240:_0xcd5c7c['data'][0x0]));return new PacketMessage(_0xcd5c7c['type'],PACKET_DATA_MESSAGES[_0x1fff9d]['create'](_0xcd5c7c['data'][0x0],_0xcd5c7c['data'][0x1]),_0xcd5c7c['id'],_0xcd5c7c['nsp'],new packetoptionsmessage_1['default'](_0x5dc1e1['flags'],_0x5dc1e1['rooms'],_0x5dc1e1['except']));}}exports['default']=PacketMessage,PacketMessage['TYPE']=0xa,PacketMessage['DESCRIPTOR_NAME']='PacketMessage',PacketMessage['DESCRIPTOR']={'fields':{'type':{'type':'uint32','id':0x1},'id':{'type':'uint32','id':0x2},'nsp':{'type':'string','id':0x3},'data':{'type':'bytes','id':0x4},'options':{'type':'bytes','id':0x5}}};